<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="/common/commonLayout.xhtml" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:o="http://omnifaces.org/ui">
	<ui:param name="uploadRootPath" value="/image" />
	<ui:param name="header" value="Add New Student Life Proposal" />
	<ui:param name="headerRendered" value="true" />
	<ui:define name="content">
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<script>
		</script>
		<h:form enctype="multipart/form-data" id="studentLifeProposalEntryForm">
			<p:growl id="growl" escape="false" globalOnly="true" life="8000" showDetail="true" />
			<p:wizard flowListener="#{AddNewStudentLifeProposalActionBean.onFlowProcess}" widgetVar="wiz">
				<p:tab title="Proposal Info" id="proposalTab">
					<p:panel  id="proposalInfoWizardPanel" style="min-height:270px;">
						<p:panelGrid columns="2" columnClasses="ui-grid-col-6,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:panelGrid columns="2" columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<h:outputText />
								<p:message for="product" display="text" />
								<h:outputText value="Product" styleClass="input-label mandatory" />
								<p:inputText id="product" readonly="true"
									value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.product == null ? '' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.product.name}" />
								<h:outputText />
								<p:message for="paymentType" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['ADDNEWLIFEROPOSAL_PAYMENTTYPE_LABEL']}" />
								<p:selectOneMenu converter="omnifaces.SelectItemsConverter" required="true" id="paymentType" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.paymentType}">
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems value="#{AddNewStudentLifeProposalActionBean.paymentTypes}" var="paymentType" itemLabel="#{paymentType.name}" itemValue="#{paymentType}" />
								</p:selectOneMenu>
								<p:outputLabel />
								<p:message for="entity" display="text"/>
								<h:outputText styleClass="input-label mandatory" value="Entity" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="entityPanelGroup">
									<div style=" margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid" id="entityPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectEntity()}" id="selectEnitysDialogLink"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnEntity}" update="entity branchPanelGroup salePontPanelGroup" />
											</p:commandButton>
											<p:inputText id="entity" required="true" readonly="#{AddNewStudentLifeProposalActionBean.entitys == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
												value="#{AddNewStudentLifeProposalActionBean.entitys == null ? '' : AddNewStudentLifeProposalActionBean.entitys.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.removeEntity()}" process="@this"
												update="entity branchPanelGroup salePontPanelGroup" />
										</div>
									</div>
								</p:panelGrid>
								<h:outputText />
								<p:message for="branch" id="MsgBranch" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['ADDNEWLIFEPROPOSAL_BRANCH_LABEL']}" />
								<p:panelGrid styleClass="ui-panelgrid-blank">
									<div style=" margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid" jsf:id="branchPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectBranchByEntity}" id="selectBranchDialogLink"
												process="@this" disabled="#{AddNewStudentLifeProposalActionBean.entitys==null?true:false}">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnBranch}" update="branch salePontPanelGroup" />
											</p:commandButton>
											<p:inputText id="branch" readonly="#{AddNewStudentLifeProposalActionBean.lifeProposal.branch == null ? facesContext.currentPhaseId.ordinal eq 6 : true}" required="true"
												value="#{AddNewStudentLifeProposalActionBean.lifeProposal.branch == null ? '' : AddNewStudentLifeProposalActionBean.lifeProposal.branch.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.removeBranch()}" process="@this" update="branch salePontPanelGroup" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="salePoints" display="text"/>
								<h:outputText styleClass="input-label mandatory" value="Sale Point" />
								<p:panelGrid styleClass="ui-panelgrid-blank">
									<div style="margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid" jsf:id="salePontPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectSalePoint()}" id="selectSalePointDialogLink"
												process="@this" disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.branch==null?true:false}">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnSalePoint}" update="salePoints" />
											</p:commandButton>
											<p:inputText id="salePoints" required="true"
												readonly="#{AddNewStudentLifeProposalActionBean.lifeProposal.salePoint == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
												value="#{AddNewStudentLifeProposalActionBean.lifeProposal.salePoint == null ? '' : AddNewStudentLifeProposalActionBean.lifeProposal.salePoint.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.lifeProposal.setSalePoint(null)}" process="@this"
												update="salePoints" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="submittedDate" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['ADDNEWLIFEPROPOSAL_SUBMITTEDDATE_LABEL']}" />
								<p:calendar id="submittedDate" pattern="#{ApplicationSetting.dateFormat}" required="true" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.submittedDate}" />
								<h:outputText />
							</p:panelGrid>
							
							<p:panelGrid id="proposalRightPanel" columns="2" columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:outputLabel />
								<p:message  display="text" for="saleUserType" />
								<h:outputText styleClass="input-label mandatory" value="Sale Channel" />
								<p:selectOneMenu  id="saleUserType" converter="omnifaces.SelectItemsConverter" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType}" required="true">
									<f:selectItem itemLabel=" -- Select SaleChannelType --" noSelectionOption="true"  itemDisabled="true"/>
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.saleChannelType}" var="type" />
									<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeSaleEvent}" update="@form:proposalRightPanel" />
								</p:selectOneMenu>
								<p:outputLabel />	
								
								<c:if test="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType ne 'BANCASSURANCE'}"> 
									<p:outputLabel />
									<p:outputLabel />
									<p:panelGrid styleClass="ui-panelgrid-blank" id="user">
									<div style="margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid" >
									<p:message  display="text" for="userType" />
										<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12">
										<p:commandButton  styleClass="green-button" icon="fa fa-search"
											actionListener="#{AddNewStudentLifeProposalActionBean.selectAgent()}" rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType eq 'AGENT'}" id="selectAgentDialogLink"
											process="@this">
											<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnAgent}" update="userType" />
										</p:commandButton>
										<p:commandButton  styleClass="green-button" icon="fa fa-search"
											actionListener="#{AddNewStudentLifeProposalActionBean.selectSaleMan()}" rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType eq 'SALEMAN'}" id="selectSaleManDialogLink"
											process="@this">
											<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnSaleMan}" update="userType" />
										</p:commandButton>
										<p:commandButton  styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectReferral()}" 
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType eq 'REFERRAL'}" id="selectReferralDialogLink" 
										process="@this">
											<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnReferral}" update="userType" />
										</p:commandButton>
										<p:inputText id="userType" required="true" rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType != null }"
											readonly="#{AddNewStudentLifeProposalActionBean.lifeProposal.salePersonName == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
											value="#{AddNewStudentLifeProposalActionBean.lifeProposal.salePersonName}" />
										<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.lifeProposal.setAgent(null)}"
											rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType eq 'AGENT'}" process="@this" update="userType" />
										<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.lifeProposal.setSaleMan(null)}"
											rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType eq 'SALEMAN'}" process="@this" update="userType" />
										<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.lifeProposal.setReferral(null)}"
											rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType eq 'REFERRAL'}" process="@this" update="userType" />									
									</div>
								</div>
								</p:panelGrid>
								</c:if>
								
								<c:if test="#{AddNewStudentLifeProposalActionBean.lifeProposal.saleChannelType eq 'BANCASSURANCE'}">
									<p:message  display="text" for="channel" />
									<h:outputText  styleClass="input-label mandatory" id="channellabel" value="Channel" />
									<p:panelGrid styleClass="ui-panelgrid-blank" id="channelPanelGroup">
											<div style="margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid">
											<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12" >
												<p:commandButton styleClass="green-button" icon="fa fa-search"
													actionListener="#{AddNewStudentLifeProposalActionBean.selectChannels()}" id="selectChannelDialogLink"
													process="@this">
													<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnChannel}"
														update="channel bancaBranchPanelGroup bancaMethods" />
												</p:commandButton>
												<p:inputText id="channel" required="true"
													readonly="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.channel == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
													value="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.channel == null ? '' : AddNewStudentLifeProposalActionBean.bancaassuranceProposal.channel.name}" />
												<p:commandButton styleClass="red-button" icon="fa fa-times"
													action="#{AddNewStudentLifeProposalActionBean.removeChannel()}" process="@this" update="channel bancaBranchPanelGroup bancaMethods" />
											</div>
											</div>
									</p:panelGrid>								
									<p:outputLabel />
									<p:message  display="text" for="bancaBranch" />
									<h:outputText styleClass="input-label mandatory" value="Banca Branch"/>
									<p:panelGrid styleClass="ui-panelgrid-blank">
										<div style="margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid" jsf:id="bancaBranchPanelGroup">
											<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12" >
												<p:commandButton styleClass="green-button" icon="fa fa-search"
													actionListener="#{AddNewStudentLifeProposalActionBean.selectBancaBranch()}" id="selectBancaBranchlink"
													process="@this"  disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.channel == null?true:false}">
													<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnBancaBranch}"
														update="bancaBranch bancaMethods" />
												</p:commandButton>
												<p:inputText id="bancaBranch" required="true" readonly="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBranch == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
													value="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBranch == null ? '' : AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBranch.name}" />
												<p:commandButton styleClass="red-button" icon="fa fa-times" disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.channel == null? true:false}"
													action="#{AddNewStudentLifeProposalActionBean.removeBancaBranch()}" process="@this" update="bancaBranch bancaMethods" />
											</div>
										</div>
									</p:panelGrid>
									<p:outputLabel />
									<p:message  display="text" for="bancaMethod" />
									<h:outputText styleClass="input-label mandatory" value="Banca Method" />
									<div jsf:id="bancaMethods">
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter"  required="true"
										 id="bancaMethod" value="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaMethod}"
										 disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBranch == null?true:false}">
										<f:selectItem itemLabel="" noSelectionOption="true" />
										<f:selectItems value="#{AddNewStudentLifeProposalActionBean.bancaMethodList}" var="bancaMethod"
											itemLabel="#{bancaMethod.name}" itemValue="#{bancaMethod}" />
										<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeBancaEvent}" update="@form:proposalRightPanel" />
									</p:selectOneMenu>
									</div>
									<p:outputLabel />

									<c:if test="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaMethod.name eq 'REFERRAL'}">
											<p:message  display="text" for="bancaBrm" />
											<h:outputText styleClass="input-label mandatory"  value="Banca BRM"  />
											<p:panelGrid styleClass="ui-panelgrid-blank" id="bancaBrmPanelGroup">
												<div  style="margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid">
													<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12" >
														<p:commandButton styleClass="green-button" icon="fa fa-search"
															actionListener="#{AddNewStudentLifeProposalActionBean.selectBancaBrm()}" id="selectBancaBrmlink"
															process="@this" disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaMethod == null?true:false}">
															<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnBancaBrm}"
																update="bancaBrm bancaLICPanelGroup bancaReferralPanelGroup" />
														</p:commandButton>
														<p:inputText id="bancaBrm" required="true"
															readonly="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBRM == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBRM == null ? '' : AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBRM.name}" />
														<p:commandButton styleClass="red-button" icon="fa fa-times" disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaMethod  == null?true:false}"
															action="#{AddNewStudentLifeProposalActionBean.removeBancaBRM()}"
															process="@this" update="bancaBrm bancaLICPanelGroup bancaReferralPanelGroup" />
													</div>
												</div>
											</p:panelGrid>
											<p:outputLabel />
											<p:message  display="text" for="bancaLIC" />
											<h:outputText styleClass="input-label mandatory"  value="Banca LIC"  />
											<p:panelGrid styleClass="ui-panelgrid-blank">
												<div style="margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid" jsf:id="bancaLICPanelGroup">
													<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12" >
														<p:commandButton styleClass="green-button" icon="fa fa-search"
															actionListener="#{AddNewStudentLifeProposalActionBean.selectBancaLIC()}" id="selectBancaCLIDialogLink"
															process="@this" disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBRM == null?true:false}">
															<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnBancaLIC}"
																update="bancaLIC bancaReferralPanelGroup" />
														</p:commandButton>
														<p:inputText id="bancaLIC" required="true"
															readonly="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaLIC == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaLIC == null ? '' : AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaLIC.name}" />
														<p:commandButton styleClass="red-button" icon="fa fa-times" disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaBRM  == null?true:false}"
															action="#{AddNewStudentLifeProposalActionBean.removeBancaLIC()}" process="@this" update="bancaLIC bancaReferralPanelGroup" />
													</div>
												</div>
											</p:panelGrid>
											<p:outputLabel />
											<p:message  display="text" for="bancaReferral" />
											<h:outputText styleClass="input-label mandatory" value="Banca Referral"  id="bancaRefferalLabel"  />
											<p:panelGrid styleClass="ui-panelgrid-blank" >
												<div style="margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid" jsf:id="bancaReferralPanelGroup">
													<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12" >
														<p:commandButton styleClass="green-button" icon="fa fa-search"
															actionListener="#{AddNewStudentLifeProposalActionBean.selectBancaReferral()}"
															id="selectBancaReferralDialogLink" process="@this" disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaLIC == null?true:false}">
															<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnBancaRefferal}"
																update="bancaReferral" />
														</p:commandButton>
														<p:inputText id="bancaReferral" required="true"
															readonly="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaRefferal == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaRefferal == null ? '' : AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaRefferal.name}" />
														<p:commandButton styleClass="red-button" icon="fa fa-times" disabled="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaLIC == null?true:false}"
															action="#{AddNewStudentLifeProposalActionBean.removeBancaReferral()}" process="@this"
															update="bancaReferral" />
													</div>
												</div>
											</p:panelGrid>
										</c:if>
										
										<c:if test="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaMethod.name eq 'OTC'}">
											<p:message  display="text" for="bancaReferral" />
											<h:outputText styleClass="input-label mandatory" value="Bank Staff" id="bancaRefferalLabel" />
											<p:panelGrid styleClass="ui-panelgrid-blank" id="bancaReferralPanelGroup">
												<div style="margin-top: -5px; margin-left: -5px;" class="ui-g ui-fluid">
													<div class="ui-inputgroup ui-g-12 ui-md-6 ui-lg-12" >
														<p:commandButton styleClass="green-button" icon="fa fa-search"
															actionListener="#{AddNewStudentLifeProposalActionBean.selectBancaReferralByOTC()}"
															id="selectBancaReferralDialogLink" process="@this">
															<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnBancaRefferal}"
																update="bancaReferral" />
														</p:commandButton>
														<p:inputText id="bancaReferral" required="true"
															readonly="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaRefferal == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaRefferal == null ? '' : AddNewStudentLifeProposalActionBean.bancaassuranceProposal.bancaRefferal.name}" />
														<p:commandButton styleClass="red-button" icon="fa fa-times"
															action="#{AddNewStudentLifeProposalActionBean.removeBancaReferral()}" process="@this"
															update="bancaReferral" />
													</div>
												</div>
											</p:panelGrid>
										</c:if>
									</c:if>	
									
									
							</p:panelGrid>	
							<p:panelGrid id="proposalEIPSPanel" columns="2"
								columnClasses="ui-grid-col-3,ui-grid-col-6" layout="grid"
								styleClass="ui-panelgrid-blank ui-fluid" rendered="false">
									
									<h:outputText id="eipsplan" styleClass="input-label mandatory" value="EIPS Plan"/>
								<p:selectBooleanCheckbox value="#{AddNewStudentLifeProposalActionBean.selectItem}"  noSelectionOption="true"  itemDisabled="true" >
									<f:ajax execute="@this" render="proposalEIPSPanel"></f:ajax>
								</p:selectBooleanCheckbox>
								
								<h:outputText value=""/>
								<p:message for="ggiorganization" display="text"/>
								<h:outputText id="ggi" styleClass="input-label mandatory" value="GGI Organization" rendered="#{AddNewStudentLifeProposalActionBean.selectItem eq true}"/>
								<p:selectOneMenu required="true" id="ggiorganization" value="#{AddNewStudentLifeProposalActionBean.ggiOrganization}" rendered="#{AddNewStudentLifeProposalActionBean.selectItem eq true}" converter="omnifaces.SelectItemsConverter">
									<f:ajax execute="@this" render="staffSelect" listener="#{AddNewStudentLifeProposalActionBean.selectStaffWithOrganization}"/>
									<f:selectItem itemLabel="" noSelectionOption="true"/>
									<f:selectItems itemLabel="#{t.name}" itemValue="#{t}" value="#{AddNewStudentLifeProposalActionBean.ggiOrganizationList}" var="t" />
								</p:selectOneMenu>
								
								<h:outputText value=""/>
								<p:message for="staffSelect" display="text"/>
								<h:outputText id="staff" styleClass="input-label mandatory" value="Staff" rendered="#{AddNewStudentLifeProposalActionBean.selectItem eq true}"/>
								<p:selectOneMenu required="true" id="staffSelect" value="#{AddNewStudentLifeProposalActionBean.staff}" rendered="#{AddNewStudentLifeProposalActionBean.selectItem eq true}" converter="omnifaces.SelectItemsConverter">
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems itemLabel="#{t.name.fullName}" itemValue="#{t}" value="#{AddNewStudentLifeProposalActionBean.staffList}" var="t" />
								</p:selectOneMenu>
								
								<h:outputText value=""/>
								<p:message for="relationShipType" display="text"/>
								<h:outputText id="type" styleClass="input-label mandatory" value="RelationShip" rendered="#{AddNewStudentLifeProposalActionBean.selectItem eq true}"/>
								<p:selectOneMenu required="true" id="relationShipType" value="#{AddNewStudentLifeProposalActionBean.relationShipType}" rendered="#{AddNewStudentLifeProposalActionBean.selectItem eq true}" converter="omnifaces.SelectItemsConverter">
									<f:ajax execute="@this" render="@this percentage" listener="#{AddNewStudentLifeProposalActionBean.showPercentageWithRelationShip}"/>
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems itemLabel="#{t.name}" itemValue="#{t}" value="#{AddNewStudentLifeProposalActionBean.relationShipTypeList}" var="t" />
								</p:selectOneMenu>

								<h:outputText value=""/>
								<p:message for="percentage" display="text"/>
								<h:outputText id="per" styleClass="input-label mandatory" value="Percentage" rendered="#{AddNewStudentLifeProposalActionBean.selectItem eq true}"/>
								<p:inputText id="percentage" value="#{AddNewStudentLifeProposalActionBean.percentage eq null ? 0 : AddNewStudentLifeProposalActionBean.percentage.percent}" rendered="#{AddNewStudentLifeProposalActionBean.selectItem eq true}" disabled="true"/>		
							
							</p:panelGrid>
												
						</p:panelGrid>
					</p:panel>
				</p:tab>
				<p:tab title="Customer Info" id="customerTab">
					<p:panel id="customerRegTab">
						<p:panelGrid columns="2" style="width:500px;" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<h:outputText />
							<p:message for="customerRegcustomer" display="text" />
							<h:outputText styleClass="input-label" value="#{label['EXISTING_CUSTOMER_LABEL']}" />
							<p:panelGrid styleClass="ui-panelgrid-blank" id="existingCustomerPanelGroup">
								<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="existingCustomerPanelGroup">
									<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
										<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectCustomer()}" id="selectExistCustomerLink"
											process="@this">
											<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnCustomer}" resetValues="true" update="customerRegTab" />
										</p:commandButton>
										<p:inputText id="customerRegcustomer" readonly="true"
											value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer!=null?AddNewStudentLifeProposalActionBean.lifeProposal.customer.fullName:''}" />
										<p:commandButton styleClass="red-button" immediate="true" icon="fa fa-times" resetValues="true" action="#{AddNewStudentLifeProposalActionBean.resetCustomer()}"
											process="@this" update="customerRegTab" />
									</div>
								</div>
							</p:panelGrid>
						</p:panelGrid>
						<p:separator />
						<p:panelGrid columns="3" id="customerPanelGroup" columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:panelGrid columns="2" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<h:outputText />
								<p:message for="customerRegInit" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_INITIALID_LABEL']}" />
								<p:inputText required="true" onchange="this.value = this.value.trim()" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.initialId}" id="customerRegInit" />
								<h:outputText />
								<p:message for="customerfirstName" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_FIRSTNAME_LABEL']}" />
								<p:inputText required="true" onchange="this.value = this.value.trim()" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.name.firstName}"
									id="customerfirstName" />
								<h:outputText />
								<p:message for="customerMidName" display="text" />
								<h:outputText styleClass="input-label" value="#{label['MANAGE_CUSTOMER_MIDDLENAME_LABEL']}" />
								<p:inputText onchange="this.value = this.value.trim()" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.name.middleName}" id="customerMidName" />
								<h:outputText />
								<p:message for="customerLastName" display="text" />
								<h:outputText styleClass="input-label" value="#{label['MANAGE_CUSTOMER_LASTNAME_LABEL']}" />
								<p:inputText onchange="this.value = this.value.trim()" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.name.lastName}" id="customerLastName" />
								<h:outputText />
								<p:message for="customerRegdob" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_DOB_LABEL']}" />
								<p:inputMask required="true" placeholder="dd-mm-yyyy" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.dateOfBirth}" id="customerRegdob" mask="99-99-9999">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</p:inputMask>
								<h:outputText />
								<p:message for="customerRegfatherName" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_FATHERNAME_LABEL']}" />
								<p:inputText required="true" onchange="this.value = this.value.trim()" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.fatherName}"
									id="customerRegfatherName" />
								<h:outputText />
								<p:message for="customerRegphone" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_PHONE_LABEL']}" />
								<p:inputText required="true" validatorMessage="Character does not allow and comma use when u adding one more."
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.contentInfo.phone}" id="customerRegphone">
									<f:validateRegex pattern="\b\d[\d,-]*\b" />
								</p:inputText>
								<h:outputText />
								<p:message for="customerRegemail" display="text" />
								<h:outputText styleClass="input-label" value="Email" />
								<p:inputText validatorMessage="Email format is not valid." value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.contentInfo.email}" id="customerRegemail">
									<f:validateRegex pattern="([\w\.-]*[a-zA-Z0-9_]@gmail.com)?" />
								</p:inputText>
							</p:panelGrid>
							<p:panelGrid columns="2" columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<h:outputText />
								<p:message for="custRegidType" display="text" />
								<h:outputText styleClass="input-lable mandatory" value="ID Type" />
								<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="custRegidType" required="true" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType}">
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.parentIdTypes}" var="type" />
									<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeCusIdType}" update="customerNrcPanelGrid customerIdNoPanelGrid customerRegIdNo" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="customerRegNrc" display="text" />
								<h:outputText />
								<h:panelGrid columns="4" id="customerNrcPanelGrid">
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="stateCode" required="true" style="width:55px;"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO'}" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.stateCode}">
										<f:selectItem itemLabel=" " noSelectionOption="true" />
										<f:selectItems var="stateCode" itemLabel="#{stateCode.codeNo}" itemValue="#{stateCode}" value="#{AddNewStudentLifeProposalActionBean.stateCodeList}" />
										<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeCustomerStateCodeList}" update="townshipCode" />
									</p:selectOneMenu>
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="townshipCode" required="true" style="width:100px;"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO'}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.townshipCode}">
										<f:selectItem itemLabel="" noSelectionOption="true" />
										<f:selectItems var="townshipCode" itemLabel="#{townshipCode.townshipcodeno}" itemValue="#{townshipCode}"
											value="#{AddNewStudentLifeProposalActionBean.customerTownshipCodeList}" />
									</p:selectOneMenu>
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="IdConditionType" required="true"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO'}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idConditionType}" style="width:50px;">
										<f:selectItems itemLabel="#{type.label}" itemValue="#{type.label}" value="#{AddNewStudentLifeProposalActionBean.idConditionType}" var="type" />
									</p:selectOneMenu>
									<p:inputText id="customerRegNrc" required="true" rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO'}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idNo}" maxlength="7" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;">
									</p:inputText>
								</h:panelGrid>
								<h:outputText />
								<p:message for="customerRegIdNo" display="text" />
								<h:outputText />
								<h:panelGrid columns="1" id="customerIdNoPanelGrid" width="100%">
									<p:inputText id="customerRegIdNo"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType ne 'NRCNO' and AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType ne null}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.idNo}" required="true" maxlength="30" />
								</h:panelGrid>
								<h:outputText />
								<p:message for="occupationcustomer" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_OCCUPATION_LABEL']}" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="occupationPanelGroup">
									<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="occupationPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectOccupation()}" id="selectOccupationDialogLink"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnOccupationForCustomer}" update="occupationcustomer" />
											</p:commandButton>
											<p:inputText id="occupationcustomer" required="true"
												readonly="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.occupation==null? facesContext.currentPhaseId.ordinal eq 6 : true}"
												value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.occupation == null ? '' : AddNewStudentLifeProposalActionBean.lifeProposal.customer.occupation.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.setOccupation(null)}" process="@this"
												update="occupationcustomer" />
										</div>
									</div>
								</p:panelGrid>
								<h:outputText />
								<p:message for="customerMaritalStatus" display="text" />
								<h:outputText value="Marital Status" />
								<p:selectOneMenu converter="omnifaces.SelectItemsConverter" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.maritalStatus}" id="customerMaritalStatus">
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.maritalStatus}" var="type" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="customergender" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['GENDER_LABEL']}" />
								<p:selectOneMenu converter="omnifaces.SelectItemsConverter" required="true" value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender}" id="customergender">
									<p:ajax event="valueChange" update="customerRelationShip" />
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.gender}" var="type" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="customerRelationShip" display="text" />
								<h:outputText styleClass="input-label mandatory" value="RelationShip" />
								<p:inputText required="true" readonly="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender==null?facesContext.currentPhaseId.ordinal eq 6 : true}"
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender==null?'':AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender=='MALE'?'Father':'Mother'}"
									id="customerRelationShip" />
								<h:outputText />
								<p:message for="customerNationality" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['NATIONALITY_LABEL']}" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="nationalityPanelGroup">
									<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="nationalityPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectCountry()}" id="selectCountryDialogLink"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnNationality}" update="customerNationality" />
											</p:commandButton>
											<p:inputText id="customerNationality" required="true"
												readonly="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.country.name==null? facesContext.currentPhaseId.ordinal eq 6 : true}"
												value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.country==null?'':AddNewStudentLifeProposalActionBean.lifeProposal.customer.country.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.setCountry(null)}" process="@this"
												update="customerNationality" />
										</div>
									</div>
								</p:panelGrid>
							</p:panelGrid>
							<p:panelGrid columns="2" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<p:outputLabel />
								<p:message for="customerRegResidentTownId" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_RESIDENTTOWNID_LABEL']}" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="residentPanelGroup">
									<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="residentPanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectTownship()}"
												id="selectResidentTownshipDialogLink" process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnResidentTownship}" update="customerRegResidentTownId" />
											</p:commandButton>
											<p:inputText id="customerRegResidentTownId" required="true"
												readonly="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.residentAddress.township  == null ?facesContext.currentPhaseId.ordinal eq 6 : true}"
												value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.residentAddress.township  == null ? '' : AddNewStudentLifeProposalActionBean.lifeProposal.customer.residentAddress.township.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.residentAddress.setTownship(null)}"
												process="@this" update="customerRegResidentTownId" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="customerRegresidentAdd" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_RESIDENTADD_LABEL']}" />
								<p:inputTextarea value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.residentAddress.residentAddress}" required="true" autoResize="true" rows="5"
									id="customerRegresidentAdd" />
								<p:outputLabel />
								<p:message for="customerRegofficeTownId" display="text" />
								<h:outputText styleClass="input-label" value="#{label['MANAGE_CUSTOMER_OFFICETOWNID_LABEL']}" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="officePanelGroup">
									<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="officePanelGroup">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectTownship()}"
												id="selectOfficeTownshipDialogLink" process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnOfficeTownship}" update="customerRegofficeTownId" />
											</p:commandButton>
											<p:inputText id="customerRegofficeTownId" readonly="true"
												value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.officeAddress.township == null ? '' : AddNewStudentLifeProposalActionBean.lifeProposal.customer.officeAddress.township.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.officeAddress.setTownship(null)}"
												process="@this" update="customerRegofficeTownId" />
										</div>
									</div>
								</p:panelGrid>
								<p:outputLabel />
								<p:message for="officeAdd" display="text" />
								<h:outputText value="#{label['MANAGE_CUSTOMER_OFFICEADD_LABEL']}" />
								<p:inputTextarea value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.officeAddress.officeAddress}" autoResize="true" rows="5" id="officeAdd" />
							</p:panelGrid>
						</p:panelGrid>
					</p:panel>
				</p:tab>
				<p:tab id="InsuredPersonInfo" title="Insured Person Info">
					<p:panel id="insuredPersonInfoWizardPanel" style="min-height: 400px;">
						<p:panelGrid columns="3" columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<p:panelGrid columns="2" columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<h:outputText />
								<p:message for="initialName" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_INITIALID_LABEL']}" />
								<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="initialName" required="#{not empty param[isRequired.clientId]}"
									value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.initialId}">
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems var="salutation" itemLabel="#{salutation.label}" itemValue="#{salutation.label}" value="#{AddNewStudentLifeProposalActionBean.salutationTypes}" />
									<p:ajax global="true" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="firstName" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_FAMILYINFO_FIRSTNAME_LABLE']}" />
								<p:inputText id="firstName" onchange="this.value = this.value.trim()" required="#{not empty param[isRequired.clientId]}"
									value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.name.firstName}">
									<p:ajax global="true" />
								</p:inputText>
								<h:outputText />
								<p:message for="middleName" display="text" />
								<h:outputText styleClass="input-label" value="#{label['MANAGE_CUSTOMER_FAMILYINFO_MIDDLENAME_LABLE']}" />
								<p:inputText id="middleName" onchange="this.value = this.value.trim()" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.name.middleName}">
									<p:ajax global="true" />
								</p:inputText>
								<h:outputText />
								<p:message for="lastName" display="text" />
								<h:outputText styleClass="input-label" value="#{label['MANAGE_CUSTOMER_FAMILYINFO_LASTNAME_LABLE']}" />
								<p:inputText id="lastName" onchange="this.value = this.value.trim()" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.name.lastName}">
									<p:ajax global="true" />
								</p:inputText>
								<h:outputText />
								<p:message for="gender" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['GENDER_LABEL']}" />
								<p:selectOneMenu required="#{not empty param[isRequired.clientId]}" converter="omnifaces.SelectItemsConverter" id="gender"
									value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.gender}">
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.gender}" var="type" />
									<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeGender}" update="relationShip" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="relationShip" />
								<h:outputText styleClass="input-label mandatory" value="Relationship" />
								<p:inputText id="relationShip" readonly="true" required="#{not empty param[isRequired.clientId]}"
									value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.relationShip.name}" />
								<h:outputText />
								<p:message for="idType" display="text" />
								<h:outputText styleClass="input-label mandatory" value="ID Type" />
								<p:selectOneMenu required="#{not empty param[isRequired.clientId]}" converter="omnifaces.SelectItemsConverter" id="idType"
									value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType}">
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.idTypes}" var="type" />
									<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeInsuIdType}"
										update="insuredPersonNrcNoPanelGrid insuredPersonIdNoPanelGrid :studentLifeProposalEntryForm:birthCertificateImagePanel" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="nrcNo" display="text" />
								<h:outputText />
								<h:panelGrid width="100%" columns="5" id="insuredPersonNrcNoPanelGrid">
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="insuredPersonstateCode"
										rendered="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'NRCNO'}" required="#{not empty param[isRequired.clientId]}" style="width:55px;"
										value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.provinceCode}">
										<f:selectItem itemLabel="" noSelectionOption="true" />
										<f:selectItems var="stateCode" itemLabel="#{stateCode.codeNo}" itemValue="#{stateCode.codeNo}" value="#{AddNewStudentLifeProposalActionBean.stateCodeList}" />
										<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeStateCode}" update="insuredPersontownshipCode" />
									</p:selectOneMenu>
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="insuredPersontownshipCode" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.townshipCode}"
										rendered="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'NRCNO'}" required="#{not empty param[isRequired.clientId]}" style="width:100px;">
										<f:selectItem itemLabel="" noSelectionOption="true" />
										<f:selectItems var="townshipCode" itemLabel="#{townshipCode.townshipcodeno}" itemValue="#{townshipCode.townshipcodeno}"
											value="#{AddNewStudentLifeProposalActionBean.townshipCodeList}" />
									</p:selectOneMenu>
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="insuredPersonidConditionType"
										value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idConditionType}" style="width:50px;"
										rendered="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'NRCNO'}">
										<f:selectItems itemLabel="#{type.label}" itemValue="#{type.label}" value="#{AddNewStudentLifeProposalActionBean.idConditionType}" var="type" />
									</p:selectOneMenu>
									<p:inputText id="nrcNo" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idNo}" required="#{not empty param[isRequired.clientId]}"
										rendered="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'NRCNO'}" maxlength="7"
										onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;">
										<p:ajax global="true" />
									</p:inputText>
								</h:panelGrid>
								<h:outputText />
								<p:message for="idNo" display="text" />
								<h:outputText />
								<h:panelGrid columns="1" width="100%" id="insuredPersonIdNoPanelGrid">
									<p:inputText id="idNo" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idNo}" required="#{not empty param[isRequired.clientId]}" maxlength="30"
										rendered="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType ne 'NRCNO' and AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType ne 'STILL_APPLYING' and AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType ne null}">
										<p:ajax global="true" />
									</p:inputText>
								</h:panelGrid>
							</p:panelGrid>
							<p:panelGrid columns="2" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<h:outputText />
								<p:message for="dateOfBirth" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_INSURANCEPERSON_DOB_LABEL']}" />
								<p:inputMask id="dateOfBirth" placeholder="dd-mm-yyyy" required="#{not empty param[isRequired.clientId]}" mask="99-99-9999"
									value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.dateOfBirth}">
									<p:ajax listener="#{AddNewStudentLifeProposalActionBean.changeChildDateOfBirth}" update="school schoolLabel gradeInfo gradeInfoLabel periodOfInsurance" />
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</p:inputMask>
								<h:outputText />
								<p:message for="school" id="MsgSchool" display="text" />
								<h:outputText id="schoolLabel" styleClass="input-label #{AddNewStudentLifeProposalActionBean.ageAbove7 ? 'mandatory' : ''}" value="#{label['MANAGE_SCHOOL']}" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="schoolPanelGroup1">
									<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="schoolPanelGroup1">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectSchool()}" id="selectSchoolDialogLink1"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnSchool}" update="school" />
											</p:commandButton>
											<p:inputText id="school" required="true"
												readonly="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.school == null ? facesContext.currentPhaseId.ordinal eq 6 ? true : !AddNewStudentLifeProposalActionBean.ageAbove7 or !(not empty param[isRequired.clientId]) : true}"
												value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.school == null ? '' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.school.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.setSchool(null)}" process="@this"
												update="school" />
										</div>
									</div>
								</p:panelGrid>
								<h:outputText />
								<p:message for="gradeInfo" display="text" />
								<h:outputText id="gradeInfoLabel" styleClass="input-label #{AddNewStudentLifeProposalActionBean.ageAbove7?'mandatory':''}" value="Grade Info" />
								<p:selectOneMenu converter="omnifaces.SelectItemsConverter" required="#{AddNewStudentLifeProposalActionBean.ageAbove7 ? not empty param[isRequired.clientId] : false}"
									id="gradeInfo" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.gradeInfo}">
									<f:selectItem itemValue=" " noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.name}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.gradeInfoList}" var="type" />
									<p:ajax global="true" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="periodOfInsurance" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Insured Term" />
								<p:inputText id="periodOfInsurance" disabled="true" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.periodOfYears}"
									required="#{not empty param[isRequired.clientId]}">
									<o:validator disabled="#{empty param[isRequired.clientId]}" minimum="#{AddNewStudentLifeProposalActionBean.product.minTerm}"
										maximum="#{AddNewStudentLifeProposalActionBean.product.maxTerm}" validatorId="javax.faces.LongRange" />
								</p:inputText>
								<h:outputText />
								<p:message for="sI" display="text" />
								<h:outputText styleClass="input-label mandatory" value="Suminsured" />
								<p:inputNumber id="sI" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.sumInsuredInfo}" required="#{not empty param[isRequired.clientId]}">
									<o:validator disabled="#{empty param[isRequired.clientId]}" minimum="#{AddNewStudentLifeProposalActionBean.product.minSumInsured}"
										maximum="#{AddNewStudentLifeProposalActionBean.product.maxSumInsured}" validatorId="javax.faces.LongRange" />
									<p:ajax global="true" />
								</p:inputNumber>
								<h:outputText value="Same Customer Address" />
								<p:selectBooleanCheckbox value="#{AddNewStudentLifeProposalActionBean.sameCustomerAdderess}">
									<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.checkCustomerSameAddress}" update="townShip resident" />
								</p:selectBooleanCheckbox>
								<h:outputText />
								<p:message for="townShip" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_RESIDENTTOWNID_LABEL']}" />
								<p:panelGrid styleClass="ui-panelgrid-blank" id="townShipPanelGroup1">
									<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="townShipPanelGroup1">
										<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
											<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectTownship()}" id="selectTownShipDialogLink1"
												process="@this">
												<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnInsuredPersonTownShip}" update="townShip" />
											</p:commandButton>
											<p:inputText id="townShip" disabled="#{AddNewStudentLifeProposalActionBean.sameCustomerAdderess}" readonly="true"
												value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.residentAddress.township.name}" />
											<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.residentAddress.setTownship(null)}"
												process="@this" update="townShip" />
										</div>
									</div>
								</p:panelGrid>
								<h:outputText />
								<p:message for="resident" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_CUSTOMER_RESIDENTADD_LABEL']}" />
								<p:inputTextarea id="resident" disabled="#{AddNewStudentLifeProposalActionBean.sameCustomerAdderess}" required="#{not empty param[isRequired.clientId]}" rows="5"
									value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.residentAddress.residentAddress}">
									<p:ajax global="true" />
								</p:inputTextarea>
							</p:panelGrid>
							<p:panelGrid columns="2" columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
								<h:outputText />
								<p:message for="cusName" display="text" />
								<h:outputText value="#{label['MANAGE_FATHER_NAME_LABEL']}" />
								<p:inputText id="cusName"
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.fullName : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentName}"
									disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender=='MALE' ? true : false}">
									<p:ajax global="true" />
								</p:inputText>
								<h:outputText />
								<p:message for="cusDOB" display="text" />
								<h:outputText value="#{label['MANAGE_FATHER_DOB_LABEL']}" />
								<p:inputMask id="cusDOB" placeholder="dd-mm-yyyy" mask="99-99-9999"
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.dateOfBirth : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentDOB}"
									disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? true : false}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
									<p:ajax global="true" />
								</p:inputMask>
								<h:outputText value="Father ID Type" />
								<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="cusIdNo"
									disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? true : false}"
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType}">
									<f:selectItem itemLabel="" noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.parentIdTypes}" var="type" />
									<p:ajax event="valueChange" disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE'}"
										listener="#{AddNewStudentLifeProposalActionBean.changeParentIdType}" update="fatherNrcNoPanelGrid fatherIdNoPanelGrid" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="customerNrcNo" display="text" />
								<h:outputText />
								<h:panelGrid columns="5" id="fatherNrcNoPanelGrid">
									<p:selectOneMenu disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? true : false}" converter="omnifaces.SelectItemsConverter"
										id="customerStateCode" required="#{not empty param[isRequired.clientId]}"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType eq 'NRCNO'}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.stateCode.codeNo : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentProvinceCode}"
										style="width: 55px;">
										<f:selectItem itemLabel="" noSelectionOption="true" />
										<f:selectItems var="stateCode" itemLabel="#{stateCode.codeNo}" itemValue="#{stateCode.codeNo}" value="#{AddNewStudentLifeProposalActionBean.stateCodeList}" />
										<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeFatherStateCode}" update="customerTownshipCode" />
									</p:selectOneMenu>
									<p:selectOneMenu required="#{not empty param[isRequired.clientId]}" disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? true : false}"
										converter="omnifaces.SelectItemsConverter" id="customerTownshipCode" style="width: 100px;"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.townshipCode.townshipcodeno : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentTownshipCode}"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType eq 'NRCNO'}">
										<f:selectItem itemLabel="" noSelectionOption="true" />
										<f:selectItems var="townshipCode" itemLabel="#{townshipCode.townshipcodeno}" itemValue="#{townshipCode.townshipcodeno}"
											value="#{AddNewStudentLifeProposalActionBean.fatherTownshipCodeList}" />
										<p:ajax global="true" />
									</p:selectOneMenu>
									<p:selectOneMenu required="#{not empty param[isRequired.clientId]}" disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? true : false}"
										converter="omnifaces.SelectItemsConverter" id="customerIdConditionType" style="width: 50px;"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idConditionType : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdConditionType}"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType eq 'NRCNO'}">
										<f:selectItems itemLabel="#{type.label}" itemValue="#{type.label}" value="#{AddNewStudentLifeProposalActionBean.idConditionType}" var="type" />
									</p:selectOneMenu>
									<p:inputText disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? true : false}" required="#{not empty param[isRequired.clientId]}"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType eq 'NRCNO'}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idNo : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdNo}"
										id="customerNrcNo" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" maxlength="7">
										<p:ajax global="true" />
									</p:inputText>
								</h:panelGrid>
								<h:outputText />
								<p:message for="customerIdNo" />
								<h:outputText />
								<h:panelGrid columns="1" width="100%" id="fatherIdNoPanelGrid">
									<p:inputText disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? true : false}" required="#{not empty param[isRequired.clientId]}"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType ne 'NRCNO' and AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType ne null : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType ne 'NRCNO' and AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType ne null}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'MALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idNo : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdNo}"
										id="customerIdNo" maxlength="30">
										<p:ajax global="true" />
									</p:inputText>
								</h:panelGrid>
								<h:outputText />
								<p:message for="parentName" display="text" />
								<h:outputText styleClass="input-label mandatory" value="#{label['MANAGE_MOTHER_NAME_LABEL']}" />
								<p:inputText id="parentName" required="#{not empty param[isRequired.clientId]}"
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.fullName:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentName}"
									disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? true : false}">
									<p:ajax global="true" />
								</p:inputText>
								<h:outputText />
								<p:message for="parentDOB" display="text" />
								<h:outputText value="#{label['MANAGE_MOTHER_DOB_LABEL']}" />
								<p:inputMask id="parentDOB" mask="99-99-9999" placeholder="dd-mm-yyyy"
									disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? true : false}"
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.dateOfBirth:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentDOB}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
									<p:ajax global="true" />
								</p:inputMask>
								<h:outputText value="Mother IDType" />
								<p:selectOneMenu disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? true : false}" converter="omnifaces.SelectItemsConverter"
									id="parentIdNo"
									value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType}">
									<f:selectItem itemLabel="---" noSelectionOption="true" />
									<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{AddNewStudentLifeProposalActionBean.parentIdTypes}" var="type" />
									<p:ajax event="valueChange" disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE'}"
										listener="#{AddNewStudentLifeProposalActionBean.changeParentIdType}" update="motherIdNoPanelGrid motherNrcNoPanelGrid" />
								</p:selectOneMenu>
								<h:outputText />
								<p:message for="motherNrcNo" display="text" />
								<h:outputText />
								<h:panelGrid columns="5" id="motherNrcNoPanelGrid">
									<p:selectOneMenu disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? true : false}" converter="omnifaces.SelectItemsConverter"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType eq 'NRCNO'}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.stateCode.codeNo:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentProvinceCode}"
										id="motherStateCode" required="#{not empty param[isRequired.clientId]}" style="width: 50px;">
										<f:selectItem itemLabel="" noSelectionOption="true" />
										<f:selectItems var="stateCode" itemLabel="#{stateCode.codeNo}" itemValue="#{stateCode.codeNo}" value="#{AddNewStudentLifeProposalActionBean.stateCodeList}" />
										<p:ajax event="valueChange" listener="#{AddNewStudentLifeProposalActionBean.changeMotherStateCode}" update="motherTownshipCode" />
									</p:selectOneMenu>
									<p:selectOneMenu disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? true : false}" converter="omnifaces.SelectItemsConverter"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.townshipCode.townshipcodeno:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentTownshipCode}"
										style="width: 100px;" required="#{not empty param[isRequired.clientId]}" id="motherTownshipCode"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType eq 'NRCNO'}">
										<f:selectItem itemLabel="" noSelectionOption="true" />
										<f:selectItems var="townshipCode" itemLabel="#{townshipCode.townshipcodeno}" itemValue="#{townshipCode.townshipcodeno}"
											value="#{AddNewStudentLifeProposalActionBean.motherTownshipCodeList}" />
										<p:ajax global="true" />
									</p:selectOneMenu>
									<p:selectOneMenu disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? true : false}" converter="omnifaces.SelectItemsConverter"
										id="motherIdConditionType" style="width: 50px;"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idConditionType:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdConditionType}"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType eq 'NRCNO'}">
										<f:selectItems itemLabel="#{type.label}" itemValue="#{type.label}" value="#{AddNewStudentLifeProposalActionBean.idConditionType}" var="type" />
									</p:selectOneMenu>
									<p:inputText required="#{not empty param[isRequired.clientId]}"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType eq 'NRCNO' : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType eq 'NRCNO'}"
										disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? true : false}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idNo:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdNo}"
										id="motherNrcNo" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" maxlength="7">
										<p:ajax global="true" />
									</p:inputText>
								</h:panelGrid>
								<h:outputText />
								<p:message for="motherIdNo" />
								<h:outputText />
								<h:panelGrid columns="1" width="100%" id="motherIdNoPanelGrid">
									<p:inputText required="#{not empty param[isRequired.clientId]}"
										rendered="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType ne 'NRCNO' and AddNewStudentLifeProposalActionBean.lifeProposal.customer.idType ne null : AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType ne 'NRCNO' and AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdType ne null}"
										disabled="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? true : false}"
										value="#{AddNewStudentLifeProposalActionBean.lifeProposal.customer.gender == 'FEMALE' ? AddNewStudentLifeProposalActionBean.lifeProposal.customer.idNo:AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.parentIdNo}"
										id="motherIdNo" maxlength="30">
										<p:ajax global="true" />
									</p:inputText>
								</h:panelGrid>
							</p:panelGrid>
						</p:panelGrid>
						<p:outputPanel style="margin:10px;" id="birthCertificateImagePanel">
							<p:fieldset legend="Birth Certificate Attachment" toggleable="true">
								<p:outputLabel value="File types(gif,jpeg,jpg,png) are Allowed" style="color:red" />
								<p:panelGrid columns="1" styleClass="ui-panelgrid-blank ui-fluid">
									<p:message for="birthCertificateImagePanel" display="text" />
									<p:fileUpload required="true" allowTypes="/(\.|\/)(gif|GIF|jpe?g|JPE?G|png|PNG)$/" fileUploadListener="#{AddNewStudentLifeProposalActionBean.handleProposalAttachment}"
										id="birthCerticateAttachment" mode="advanced" multiple="true" sizeLimit="3000000" update="birthCertificateImageGrid" />
									<p:dataGrid columns="8" id="birthCertificateImageGrid" paginator="true" paginatorPosition="bottom" rows="8" rowsPerPageTemplate="8"
										paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
										value="#{AddNewStudentLifeProposalActionBean.birthCertificateUploadedFileList}" var="image">
										<p:panel>
											<p:graphicImage style="width:120px;height:120px;" value="#{uploadRootPath}#{image}" />
											<br />
											<p:commandLink action="#{AddNewStudentLifeProposalActionBean.removeBirthCertificateUploadedFile(image)}" id="deleteGroupLink" update="birthCertificateImageGrid">
												<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
											</p:commandLink>
										</p:panel>
									</p:dataGrid>
									<p:outputLabel rendered="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTO.idType eq 'STILL_APPLYING'}" style="color:red;" value="* - mandatory fields" />
								</p:panelGrid>
							</p:fieldset>
						</p:outputPanel>
						<p:outputPanel id="insuranceHistoryRecord">
							<p:panel header="Insurance company history records" toggleable="true" collapsed="true">
								<p:panel>
									<p:panelGrid columns="3" columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
										<p:panelGrid columns="2" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
											<p:outputLabel />
											<p:message for="company" display="text" />
											<p:outputLabel styleClass="input-label mandatory" value="Insurer" />
											<p:panelGrid styleClass="ui-panelgrid-blank" id="companyPanelGroup">
												<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="companyPanelGroup">
													<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
														<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectCoInsuranceCompany()}"
															id="selectCompanyDialogLink1" process="@this">
															<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnCoinsuranceCompany}" update="company" />
														</p:commandButton>
														<p:inputText id="company" required="#{not empty param[needRequired.clientId]}"
															readonly="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.company.id == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.company==null?'':AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.company.name}" />
														<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.setCompany(null)}" process="@this"
															update="company" />
													</div>
												</div>
											</p:panelGrid>
											<p:outputLabel />
											<p:message for="policyNo" display="text" />
											<p:outputLabel styleClass="input-label mandatory" value="Policy No" />
											<p:inputText id="policyNo" required="#{not empty param[needRequired.clientId]}" value="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.policyNo}" />
										</p:panelGrid>
										<p:panelGrid columns="2" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
											<p:outputLabel />
											<p:message for="periodInsurance" display="text" />
											<p:outputLabel styleClass="input-label mandatory" value="Insured Term" />
											<p:inputText id="periodInsurance" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" required="#{not empty param[needRequired.clientId]}"
												value="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.periodOfInsurance}" />
											<p:outputLabel />
											<p:message for="policyDate" display="text" />
											<p:outputLabel styleClass="input-label mandatory" value="Policy Date" />
											<p:calendar required="#{not empty param[needRequired.clientId]}" id="policyDate" pattern="#{ApplicationSetting.dateFormat}" showOn="button"
												timeZone="#{ApplicationSetting.timeZone}" value="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.policyDate}" />
										</p:panelGrid>
										<p:panelGrid columns="2" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
											<p:outputLabel />
											<p:message for="sumInsuredInfo" display="text" />
											<p:outputLabel styleClass="input-label mandatory" value="SI Amount" />
											<p:inputNumber required="#{not empty param[needRequired.clientId]}" value="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.sIAmount}" id="sumInsuredInfo"
												style="float:left;text-align:right;">
												<o:validator minimum="#{AddNewStudentLifeProposalActionBean.product.minSumInsured}" maximum="#{AddNewStudentLifeProposalActionBean.product.maxSumInsured}"
													disabled="#{empty param[needRequired.clientId]}" validatorId="javax.faces.LongRange" />
											</p:inputNumber>
											<p:outputLabel />
											<p:message for="status" display="text" />
											<p:outputLabel styleClass="input-label" value="Active" id="isActive" />
											<p:selectBooleanCheckbox id="status" value="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecord.active}" />
										</p:panelGrid>
									</p:panelGrid>
								</p:panel>
								<h:panelGrid columns="2">
									<p:commandButton action="#{AddNewStudentLifeProposalActionBean.saveInsuranceHistoryRecord}" disabled="#{AddNewStudentLifeProposalActionBean.disableInsureInfo}"
										binding="#{needRequired}" style="width: 65px;" update="insuranceHistoryRecord"
										value="#{!AddNewStudentLifeProposalActionBean.editInsuHistRec ? label['COMMON_ADDNEW_BTN'] : label['COMMON_UPDATE_BTN']}" />
									<p:commandButton action="#{AddNewStudentLifeProposalActionBean.resetInsuranceHistoryRecord}" style="width: 65px;" update="insuranceHistoryRecord" value="Cancel" />
								</h:panelGrid>
								<br />
								<p:dataTable id="insuranceHistoryRecordTable" value="#{AddNewStudentLifeProposalActionBean.insuranceHistoryRecordList}" var="record">
									<p:column headerText="Insurer" width="20%">
										<h:outputText value="#{record.company.name}" />
									</p:column>
									<p:column headerText="Policy No" width="20%">
										<h:outputText value="#{record.policyNo}" />
									</p:column>
									<p:column headerText="Policy Date">
										<h:outputText value="#{record.policyDate}">
											<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
										</h:outputText>
									</p:column>
									<p:column headerText="Insured Term">
										<h:outputText value="#{record.periodOfInsurance}" />
									</p:column>
									<p:column headerText="SI Amount">
										<h:outputText value="#{record.sIAmount}" style="float:right;">
											<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
										</h:outputText>
									</p:column>
									<p:column headerText="Active">
										<h:outputText value="#{record.active ? 'YES' : 'NO'}" />
									</p:column>
									<p:column style="width:4%;" headerText="Edit">
										<p:commandButton styleClass="green-button" icon="fa fa-paint-brush" action="#{AddNewStudentLifeProposalActionBean.editInsuranceHistoryRecord(record)}" process="@this"
											update="@form:insuranceHistoryRecord" id="editInsuranceHistoryRecordLink">
										</p:commandButton>
									</p:column>
									<p:column style="width:4%;" headerText="Delete">
										<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.removeInsuranceHistoryRecord(record)}"
											id="removeInsuranceHistoryRecordLink" update="@form:insuranceHistoryRecord">
											<p:confirm header="Confirmation" message="#{record.policyNo} : #{label['COMMON_MSG_DELETE_CONFIRM_LABEL']}" icon="fa fa-exclamation-triangle" />
										</p:commandButton>
									</p:column>
								</p:dataTable>
							</p:panel>
						</p:outputPanel>
						<br />
						<p:commandButton style="width: 65px;" action="#{AddNewStudentLifeProposalActionBean.saveInsuredPersonInfo}" binding="#{isRequired}" id="addInsuredPersonBtn"
							update="insuredPersonInfoWizardPanel" disabled="#{AddNewStudentLifeProposalActionBean.disableInsureInfo}"
							value="#{AddNewStudentLifeProposalActionBean.createNewIsuredPersonInfo ? label['COMMON_ADDNEW_BTN'] : label['COMMON_UPDATE_BTN']}" />
						<p:separator style="height: 3px" />
						<p:message for="insuredPersonInfoTable" display="text" />
						<p:dataTable id="insuredPersonInfoTable" style="width:100%" value="#{AddNewStudentLifeProposalActionBean.insuredPersonInfoDTOList}" var="insuredPersonInfoDTO"
							rowIndexVar="index" rowStyleClass="#{insuredPersonInfoDTO.relationShip == null ? 'highlight' : null}">
							<p:column headerText="No." width="4%">
								<h:outputText value="#{index + 1}." style="float: right;" />
							</p:column>
							<p:column headerText="Name" width="20%">
								<h:outputText value="#{insuredPersonInfoDTO.fullName}" />
							</p:column>
							<p:column headerText="Gender">
								<h:outputText value="#{insuredPersonInfoDTO.gender.label}" />
							</p:column>
							<p:column headerText="Date Of Birth">
								<h:outputText value="#{insuredPersonInfoDTO.dateOfBirth}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</h:outputText>
							</p:column>
							<p:column headerText="Age" width="5%" style="align:center">
								<h:outputText value="#{insuredPersonInfoDTO.age} - Year" style="text-align: center;" />
							</p:column>
							<p:column headerText="Insured Term">
								<h:outputText value="#{insuredPersonInfoDTO.period}" style="text-align: center;" />
							</p:column>
							<p:column headerText="Premium Term">
								<h:outputText value="#{insuredPersonInfoDTO.premiumTerm} - Year" style="text-align: center;" />
							</p:column>
							<p:column headerText="Sum Insured">
								<h:outputText value="#{insuredPersonInfoDTO.sumInsuredInfo}" style="float:right;">
									<f:convertNumber pattern="#{ApplicationSetting.currencyFormat}" />
								</h:outputText>
							</p:column>
							<p:column style="width:4%;" headerText="Edit">
								<p:commandButton styleClass="green-button" icon="fa fa-paint-brush" action="#{AddNewStudentLifeProposalActionBean.prepareEditInsuredPersonInfo(insuredPersonInfoDTO)}"
									process="@this" update="@form:insuredPersonInfoWizardPanel" id="editStudentLifeInsuredPersonLink">
								</p:commandButton>
							</p:column>
							<p:column style="width:4%;" headerText="Delete">
								<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.removeInsuredPersonInfo(insuredPersonInfoDTO)}" process="@this"
									id="removeStudentLifeInsuredPersonLink" update="@form:insuredPersonInfoWizardPanel">
									<p:confirm header="Confirmation" message="#{insuredPersonInfoDTO.fullName} : #{label['COMMON_MSG_DELETE_CONFIRM_LABEL']}" icon="fa fa-exclamation-triangle" />
								</p:commandButton>
							</p:column>
						</p:dataTable>
					</p:panel>
				</p:tab>
				<p:tab id="workflow" title="Workflow" rendered="#{!AddNewStudentLifeProposalActionBean.enquiryEdit}">
					<p:panel id="workflowWizardPanel">
						<p:panelGrid columns="2" style="min-height:270px;" columnClasses="ui-grid-col-1,ui-grid-col-3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
							<h:outputText value="#{label['REMARK_LABLE']}" />
							<p:inputTextarea autoResize="true" id="remark" rows="7" value="#{AddNewStudentLifeProposalActionBean.remark}">
								<p:ajax update=":studentLifeProposalEntryForm:remark" />
							</p:inputTextarea>
							<h:outputText styleClass="input-label" value="Is it need to survey again?" rendered="#{AddNewStudentLifeProposalActionBean.editProposal}" />
							<p:selectOneRadio id="needSurvey" value="#{AddNewStudentLifeProposalActionBean.surveyAgain}" rendered="#{AddNewStudentLifeProposalActionBean.editProposal}">
								<p:ajax update="responsiblePerson responsibleLabel" process="@this" listener="#{AddNewStudentLifeProposalActionBean.setResponsiblePerson(null)}" />
								<f:selectItem itemLabel="#{label['BOOLEAN_YES_LABEL']}" itemValue="true" />
								<f:selectItem itemLabel="#{label['BOOLEAN_NO_LABEL']}" itemValue="false" />
							</p:selectOneRadio>
							<h:outputText />
							<p:message for="responsiblePerson" display="text" />
							<h:outputText styleClass="input-label mandatory" id="responsibleLabel" value="#{AddNewStudentLifeProposalActionBean.surveyAgain?label['SURVEYOR']:label['APPROVER']}" />
							<p:panelGrid styleClass="ui-panelgrid-blank" id="responsiblePersonPanel">
								<div style="margin: -6px -6px;" class="ui-g ui-fluid" id="responsiblePersonPanel">
									<div class="ui-inputgroup ui-g-12 ui-lg-12 ui-lg-12">
										<p:commandButton styleClass="green-button" icon="fa fa-search" actionListener="#{AddNewStudentLifeProposalActionBean.selectUser()}" id="selectUserDialogLink"
											process="@this">
											<p:ajax event="dialogReturn" listener="#{AddNewStudentLifeProposalActionBean.returnUser}" update="responsiblePerson" />
										</p:commandButton>
										<p:inputText id="responsiblePerson" readonly="#{AddNewStudentLifeProposalActionBean.responsiblePerson == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
											required="#{not empty param[isUserRequired.clientId]}"
											value="#{AddNewStudentLifeProposalActionBean.responsiblePerson == null ? '' : AddNewStudentLifeProposalActionBean.responsiblePerson.name}" />
										<p:commandButton styleClass="red-button" icon="fa fa-times" action="#{AddNewStudentLifeProposalActionBean.setResponsiblePerson(null)}" process="@this"
											update="responsiblePerson" />
									</div>
								</div>
							</p:panelGrid>
						</p:panelGrid>
						<p:commandButton action="#{AddNewStudentLifeProposalActionBean.addNewStudentLifeProposal}" binding="#{isUserRequired}" style="width: 65px;"
							update=":studentLifeProposalEntryForm" value="#{AddNewStudentLifeProposalActionBean.isEditProposal() ? 'Update' : 'Submit'}" />
					</p:panel>
				</p:tab>
			</p:wizard>
			<br />
			<p:commandButton style="width: 65px;" action="#{AddNewStudentLifeProposalActionBean.addNewStudentLifeProposal}" update=":studentLifeProposalEntryForm" value="Update"
				rendered="#{AddNewStudentLifeProposalActionBean.isEnquiryEdit()}" />
			<p:spacer width="5" rendered="#{AddNewStudentLifeProposalActionBean.isEnquiryEdit()}" />
			<p:commandButton action="dashboard" immediate="true" value="#{label['COMMON_CANCEL_BTN']}" />
			<h:outputText style="color:red;" value="#{label['COMMON_MSG_MANDATORY_LABEL']}" />
		</h:form>
		<!-- Confirmation Dialog -->
		<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
			<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="fa fa-check" />
			<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="fa fa-times" />
		</p:confirmDialog>
	</ui:define>
</ui:composition>
