<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="/common/commonLayout.xhtml">
	<ui:define name="content">
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<p:messages globalOnly="true" id="messages" showDetail="true" />
		<h:form enctype="multipart/form-data" id="medicalProposalEntryForm">
			<table width="100%">
				<tr>
					<td>
						<h:outputText styleClass="table-title" value="Edit Medical Proposal" />
					</td>
				</tr>
			</table>
			<p:separator style="height:5px" />
			<p:wizard flowListener="#{EditMedicalProposalActionBean.onFlowProcess}" widgetVar="wiz">
				<p:tab title="Proposal" id="proposalTab">
					<p:panel header="Proposal Info" style="min-height:400px;">
						<table style="width: 100%;">
							<tr>
								<td style="width: 155px;">
									<h:outputText style="color: red;" value="*" />
									<h:outputText value="Proposal Type" />
								</td>
								<td>
									<p:selectOneRadio style="width: 200px;" converter="omnifaces.SelectItemsConverter" id="customerType" styleClass="input-label"
										value="#{EditMedicalProposalActionBean.medicalProposalDTO.customerType}" required="true">
										<f:selectItems value="#{EditMedicalProposalActionBean.customerTypes}" var="cusType" itemLabel="#{cusType.label}" itemValue="#{cusType}" />
										<p:ajax event="change" listener="#{EditMedicalProposalActionBean.changeCustomerType}" />
									</p:selectOneRadio>
								</td>
							</tr>
							<tr>
								<td>
									<h:outputText style="color:red;" value="*" />
									<h:outputText value="#{label['SALEPERSON_LABEL']}" />
								</td>
								<td>
									<p:selectOneRadio converter="omnifaces.SelectItemsConverter" id="saleUserType" style="width: 350px;" value="#{EditMedicalProposalActionBean.userType}">
										<f:selectItem itemLabel="Agent" itemValue="AGENT" />
										<f:selectItem itemLabel="Saleman" itemValue="SALEMAN" />
										<f:selectItem itemLabel="Referral" itemValue="REFERRAL" />
										<p:ajax event="valueChange" listener="#{EditMedicalProposalActionBean.changeSaleEvent}" update=":medicalProposalEntryForm:salePersonPanelGroup" />
									</p:selectOneRadio>
									<p:message for="userType" id="MsgUserType" />
								</td>
							</tr>
							<tr>
								<td />
								<td>
									<h:panelGrid columns="3" id="salePersonPanelGroup">
										<p:inputText id="userType" readonly="#{EditMedicalProposalActionBean.medicalProposalDTO.salePersonName == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
											required="true" style="width:250px;margin-left:-4px;" value="#{EditMedicalProposalActionBean.medicalProposalDTO.salePersonName}" />
										<p:watermark for="userType" value="Select Sale Person" />
										<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectAgent()}" id="selectAgentDialogLink" immediate="true"
											rendered="#{EditMedicalProposalActionBean.userType eq 'AGENT'}">
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnAgent}" update="salePersonPanelGroup MsgUserType" />
										</p:commandLink>
										<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectSaleMan()}" id="selectSaleManDialogLink" immediate="true"
											rendered="#{EditMedicalProposalActionBean.userType eq 'SALEMAN'}">
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnSaleMan}" update="salePersonPanelGroup MsgUserType" />
										</p:commandLink>
										<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectReferral()}" id="selectReferralDialogLink" immediate="true"
											rendered="#{EditMedicalProposalActionBean.userType eq 'REFERRAL'}">
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnReferral}" update="salePersonPanelGroup MsgUserType" />
										</p:commandLink>
									</h:panelGrid>
								</td>
							</tr>
							<tr>
								<td />
								<td>
									<p:message for="submittedDate" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputText style="color:red;" value="*" />
									<h:outputText value="#{label['ADDNEWLIFEPROPOSAL_SUBMITTEDDATE_LABEL']}" />
								</td>
								<td>
									<p:calendar id="submittedDate" pattern="#{ApplicationSetting.dateFormat}" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
										value="#{EditMedicalProposalActionBean.medicalProposalDTO.submittedDate}" />
								</td>
							</tr>
							<tr>
								<td />
								<td>
									<p:message for="branch" id="MsgBranch" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputText value="#{label['ADDNEWLIFEPROPOSAL_BRANCH_LABEL']}" />
								</td>
								<td>
									<h:panelGrid columns="3" id="branchPanelGroup">
										<p:inputText id="branch" readonly="true" style="width:250px;margin-left:-4px;"
											value="#{EditMedicalProposalActionBean.medicalProposalDTO.branch == null ? '' : EditMedicalProposalActionBean.medicalProposalDTO.branch.name}" />
										<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectBranch()}" id="selectBranchDialogLink" immediate="true" rendered="true">
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnBranch}" update="branchPanelGroup MsgBranch" />
										</p:commandLink>
									</h:panelGrid>
								</td>
							</tr>
							<tr>
								<td />
								<td>
									<p:message id="msgPaymentType" for="paymentType" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputText style="color: red;" value="*" />
									<h:outputText value="#{label['ADDNEWLIFEROPOSAL_PAYMENTTYPE_LABEL']}" />
								</td>
								<td>
									<h:panelGrid columns="3" id="paymentTypePanelGroup">
										<p:inputText id="paymentType" style="width:250px;margin-left:-4px;margin-right: 3px;" readonly="true" required="true"
											value="#{EditMedicalProposalActionBean.medicalProposalDTO.paymentType == null ? '' : EditMedicalProposalActionBean.medicalProposalDTO.paymentType.description}" />
										<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectPaymentType()}" id="selectPaymentTypeDialogLink" immediate="true">
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnPaymentType}" update="paymentTypePanelGroup msgPaymentType" process="@this" />
										</p:commandLink>
									</h:panelGrid>
								</td>
							</tr>
						</table>
					</p:panel>
				</p:tab>
				<p:tab title="Customer" id="customerTab">
					<p:panel id="customerRegTab">
						<p:fieldset id="existingCustomer">
							<table>
								<tr>
									<td style="width: 150px;">
										<h:outputText value="#{label['EXISTING_CUSTOMER_LABEL']}" />
									</td>
									<td>
										<h:panelGrid columns="4" id="existingCustomerPanelGroup">
											<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.fullName}" style="width:250px;margin-left:-4px;" styleClass="myanmar-label"
												readonly="true" id="customerRegcustomer" />
											<p:watermark for="customerRegcustomer" value="Select Customer" />
											<p:commandLink immediate="true" actionListener="#{EditMedicalProposalActionBean.selectCustomer()}" id="selectExistCustomerLink" process="@this">
												<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnCustomer}" update="customerEntryPanel existingCustomerPanelGroup" />
												<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											</p:commandLink>
											<p:commandLink immediate="true" action="#{EditMedicalProposalActionBean.resetCustomer()}" update="customerEntryPanel existingCustomerPanelGroup" process="@this">
												<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
											</p:commandLink>
										</h:panelGrid>
									</td>
								</tr>
							</table>
						</p:fieldset>
						<br />
						<p:panel id="customerEntryPanel">
							<table id="personalTable" width="100%">
								<tr>
									<td valign="top" width="50%">
										<table>
											<tr>
												<td />
												<td>
													<p:message for="customerRegInit" />
												</td>
											</tr>
											<tr>
												<td style="width: 150px;">
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="Initial" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.initialId}" id="customerRegInit" style="width:250px;"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}">
													</p:inputText>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerRegName" />
												</td>
											</tr>
											<tr>
												<td style="width: 150px;">
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="#{label['NAME_LABEL']}" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.name.firstName}" id="customerRegName" style="width:250px;" required="true"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}">
													</p:inputText>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerRegdob" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="#{label['MANAGE_CUSTOMER_DOB_LABEL']}" />
												</td>
												<td>
													<p:inputMask value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.dateOfBirth}" style="width:250px;" id="customerRegdob" mask="99-99-9999"
														required="true" disabled="#{EditMedicalProposalActionBean.existingCustomer}">
														<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
													</p:inputMask>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerRegfatherName" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="#{label['MANAGE_CUSTOMER_FATHERNAME_LABEL']}" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.fatherName}" style="width:250px;" id="customerRegfatherName"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}">
													</p:inputText>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerPlaceOfBirth" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="#{label['MANAGE_CUSTOMER_POB_LABEL']}" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.placeOfBirth}" style="width:250px;" id="customerPlaceOfBirth" required="true"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}">
													</p:inputText>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerMaritalStatus" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText style="color:red;" value="*" />
													<h:outputText value="#{label['MERITAL_STATUS_LABEL']}" />
												</td>
												<td>
													<p:selectOneMenu converter="omnifaces.SelectItemsConverter" value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.maritalStatus}"
														id="customerMaritalStatus" style="height:26px;width: 258px;" disabled="#{EditMedicalProposalActionBean.existingCustomer}">
														<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.maritalStatus}" var="type" />
													</p:selectOneMenu>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerNationality" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="*" style="color: red;" />
													<h:outputText value="#{label['NATIONALITY_LABEL']}" />
												</td>
												<td>
													<h:panelGrid columns="3" id="nationalityPanelGroupCustomer">
														<p:inputText id="customerNationality"
															readonly="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.country == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															style="width:250px;margin-left:-4px;" required="true"
															value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.country == null ? '' : EditMedicalProposalActionBean.medicalProposalDTO.customer.country.name}"
															disabled="#{EditMedicalProposalActionBean.existingCustomer}" />
														<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectCountry()}" id="selectNationalityDialogLinkcustomer" immediate="true"
															disabled="#{EditMedicalProposalActionBean.existingCustomer}">
															<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnNationalityForCustomer}" update="nationalityPanelGroupCustomer" />
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														</p:commandLink>
													</h:panelGrid>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customergender" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText style="color:red;" value="*" />
													<h:outputText value="#{label['GENDER_LABEL']}" />
												</td>
												<td>
													<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="customergender" style="height:26px;width: 258px;"
														value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.gender}" disabled="#{EditMedicalProposalActionBean.existingCustomer}">
														<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.gender}" var="type" />
													</p:selectOneMenu>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerHeight" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="#{label['HEIGHT_LABEL']}" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.height}" style="width:250px;" id="customerHeight" required="true"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}">
														<f:convertNumber pattern="#{ApplicationSetting.numberFormat}" />
													</p:inputText>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerWeight" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="#{label['WEIGHT_LABEL']}" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.weight}" style="width:250px;" id="customerWeight" required="true"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}">
														<f:convertNumber pattern="#{ApplicationSetting.numberFormat}" />
													</p:inputText>
												</td>
											</tr>
										</table>
									</td>
									<td valign="top" width="50%">
										<table>
											<tr>
												<td />
												<td>
													<p:message for="customerRegidNo" />
												</td>
											</tr>
											<tr>
												<td style="width: 150px;">
													<h:panelGrid>
														<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="custRegidType" value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.idType}"
															disabled="#{EditMedicalProposalActionBean.existingCustomer}">
															<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.idTypes}" var="type" />
															<p:ajax event="valueChange" listener="#{EditMedicalProposalActionBean.changeIdType}" update="customerIdNoPanelGrid" />
														</p:selectOneMenu>
													</h:panelGrid>
												</td>
												<td>
													<h:panelGrid columns="5" id="customerIdNoPanelGrid" style="margin-left:-4px;">
														<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="stateCode" value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.stateCode}"
															disabled="#{EditMedicalProposalActionBean.existingCustomer}" rendered="#{EditMedicalProposalActionBean.nrcCustomer}" style="width:50px;">
															<f:selectItem itemLabel="---" />
															<f:selectItems var="stateCode" itemLabel="#{stateCode.codeNo}" itemValue="#{stateCode}" value="#{EditMedicalProposalActionBean.stateCodeList}" />
															<p:ajax event="valueChange" listener="#{EditMedicalProposalActionBean.changeStateCode}" update="customerIdNoPanelGrid" />
														</p:selectOneMenu>
														<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="townshipCode"
															rendered="#{EditMedicalProposalActionBean.haveTownship || EditMedicalProposalActionBean.nrcCustomer}"
															value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.townshipCode}" disabled="#{EditMedicalProposalActionBean.existingCustomer}" style="width:90px;">
															<f:selectItem itemLabel="-----" />
															<f:selectItems value="#{EditMedicalProposalActionBean.townshipCodeList}" var="townshipCode" itemLabel="#{townshipCode.townshipcodeno}" itemValue="#{townshipCode}" />
														</p:selectOneMenu>
														<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="IdConditionType" disabled="#{EditMedicalProposalActionBean.existingCustomer}"
															rendered="#{EditMedicalProposalActionBean.nrcCustomer}" value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.idConditionType}" style="width:40px;">
															<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.idConditionType}" var="type" />
														</p:selectOneMenu>
														<p:inputText style="#{EditMedicalProposalActionBean.nrcCustomer eq true ? 'width: 50px' : 'width: 250px'}"
															value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.idNo}" id="customerRegidNo" disabled="#{EditMedicalProposalActionBean.existingCustomer}"
															rendered="#{EditMedicalProposalActionBean.stillApplyCustomer}">
														</p:inputText>
													</h:panelGrid>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="occupationcustomer" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="*" style="color: red;" />
													<h:outputText value="#{label['OCCUPATION_LABEL']}" />
												</td>
												<td>
													<h:panelGrid columns="3" id="occupationPanelGroupCustomer">
														<p:inputText id="occupationcustomer"
															readonly="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.occupation == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															style="width:250px;margin-left:-4px;" required="true"
															value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.occupation == null ? '' : EditMedicalProposalActionBean.medicalProposalDTO.customer.occupation.name}"
															disabled="#{EditMedicalProposalActionBean.existingCustomer}" />
														<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectOccupation()}" id="selectOccupationDialogLinkcustomer" immediate="true"
															disabled="#{EditMedicalProposalActionBean.existingCustomer}">
															<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnOccupationForCustomer}" update="occupationPanelGroupCustomer" />
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														</p:commandLink>
													</h:panelGrid>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerRegmobile" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="#{label['MANAGE_CUSTOMER_MOBILE_LABEL']}" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.contentInfo.mobile}" style="width:250px;" id="customerRegmobile"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}" required="true">
													</p:inputText>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerRegphone" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="#{label['MANAGE_CUSTOMER_PHONE_LABEL']}" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.contentInfo.phone}" style="width:250px;" id="customerRegphone"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}">
													</p:inputText>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerRegemail" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="Email" />
												</td>
												<td>
													<p:inputText value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.contentInfo.email}" style="width:250px;" id="customerRegemail"
														disabled="#{EditMedicalProposalActionBean.existingCustomer}">
													</p:inputText>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerRegresidentTownId" id="MsgcustomerRegresidentTownId" />
												</td>
											</tr>
											<tr>
												<td>
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="#{label['MANAGE_CUSTOMER_RESIDENTTOWNID_LABEL']}" />
												</td>
												<td>
													<h:panelGrid columns="3" id="residentPanelGroup">
														<p:inputText
															value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.residentAddress.township == null ? '' : EditMedicalProposalActionBean.medicalProposalDTO.customer.residentAddress.township.name}"
															style="width:250px;margin-left:-4px;" id="customerRegresidentTownId" required="true"
															readonly="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.residentAddress.township == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															disabled="#{EditMedicalProposalActionBean.existingCustomer}" />
														<p:commandLink immediate="true" actionListener="#{EditMedicalProposalActionBean.selectTownship()}" id="selectResidentTownshipDialogLink"
															disabled="#{EditMedicalProposalActionBean.existingCustomer}">
															<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnResidentTownship}" update="residentPanelGroup MsgcustomerRegresidentTownId" />
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														</p:commandLink>
													</h:panelGrid>
												</td>
											</tr>
											<tr>
												<td />
												<td>
													<p:message for="customerRegresidentAdd" />
												</td>
											</tr>
											<tr>
												<td valign="top">
													<h:outputText value="*" style="color:red;" />
													<h:outputText value="#{label['MANAGE_CUSTOMER_RESIDENTADD_LABEL']}" />
												</td>
												<td>
													<p:inputTextarea value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.residentAddress.residentAddress}" style="width:250px;" id="customerRegresidentAdd"
														required="true" disabled="#{EditMedicalProposalActionBean.existingCustomer}">
													</p:inputTextarea>
												</td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
						</p:panel>
					</p:panel>
				</p:tab>
				<p:tab id="InsuredPersonInfo" title="Insured Person Info">
					<p:panel header="InsuredPerson Information" id="insuredPersonInfoWizardPanel" style="min-height:270px;">
						<p:fieldset id="existingInsuCustomer">
							<table>
								<tr>
									<td colspan="4" style="width: 140px;">
										<p:message for="customerRegInsu" />
									</td>
									<td style="width: 150px;">
										<p:message for="beneficiaryRelationShip" />
									</td>
								</tr>
								<tr>
									<td style="width: 140px;">
										<h:outputText value="#{label['EXISTING_CUSTOMER_LABEL']}" />
									</td>
									<td>
										<h:panelGrid columns="5" id="existingCustomerInsuPanelGroup">
											<p:inputText value="#{EditMedicalProposalActionBean.dto.customer.fullName}" style="width:250px;margin-left:-4px;" styleClass="myanmar-label" readonly="true"
												id="customerRegInsu" />
											<p:watermark for="customerRegInsu" value="Select Customer" />
											<p:commandLink immediate="true" actionListener="#{EditMedicalProposalActionBean.selectCustomer()}" id="selectExistCustomerInsuLink"
												disabled="#{EditMedicalProposalActionBean.fromInsuredPersonSelected}">
												<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnInsuredPersonCustomer}"
													update="insuredPersonInfoWizardPanel existingCustomerInsuPanelGroup" />
												<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											</p:commandLink>
											<p:commandLink action="#{EditMedicalProposalActionBean.resetInsuredPerson()}" update="insuredPersonInfoWizardPanel existingCustomerInsuPanelGroup"
												disabled="#{EditMedicalProposalActionBean.fromInsuredPersonSelected}">
												<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
											</p:commandLink>
										</h:panelGrid>
									</td>
									<td style="width: 160px;" />
									<td style="width: 158px;">
										<h:outputText value="*" style="color:red;" />
										<h:outputText value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_RELATIONSHIP_LABEL']}" />
									</td>
									<td>
										<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="beneficiaryRelationShip" style="height:24px;width: 258px;"
											value="#{EditMedicalProposalActionBean.dto.relationship}">
											<f:selectItem itemLabel="" />
											<f:selectItems itemDisabled="#{relationship.name eq 'SELF'? (EditMedicalProposalActionBean.disableSelfRS) : false}"
												value="#{EditMedicalProposalActionBean.relationshipList}" var="relationship" itemLabel="#{relationship.name}" itemValue="#{relationship}" />
											<p:ajax listener="#{EditMedicalProposalActionBean.changeCusToInsuredPerson()}"
												update="#{EditMedicalProposalActionBean.itselfCustomer eq true ? 'medicalProposalEntryForm:insuredPersonInfoWizardPanel' : 'beneficiaryRelationShip'}" />
										</p:selectOneMenu>
									</td>
								</tr>
							</table>
						</p:fieldset>
						<table width="100%">
							<tr>
								<td valign="top" width="50%">
									<table>
										<tr>
											<td />
											<td>
												<p:message for="name" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;">
												<h:outputText style="color:red;" value="*" />
												<h:outputText value="#{label['INSU_NAME_LABEL']}" />
											</td>
											<td>
												<p:inputText id="name" style="width:250px;" value="#{EditMedicalProposalActionBean.dto.customer.name.firstName}"
													disabled="#{EditMedicalProposalActionBean.selfRelation}" />
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="dateOfBirth" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText style="color:red;" value="*" />
												<h:outputText value="#{label['MANAGE_CUSTOMER_DOB_LABEL']}" />
											</td>
											<td>
												<p:inputMask id="dateOfBirth" mask="99-99-9999" style="width:250px;  " value="#{EditMedicalProposalActionBean.dto.customer.dateOfBirth}"
													disabled="#{EditMedicalProposalActionBean.selfRelation}">
													<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
												</p:inputMask>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="insuredPersonPlaceOfBirth" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText value="*" style="color:red;" />
												<h:outputText value="#{label['MANAGE_CUSTOMER_POB_LABEL']}" />
											</td>
											<td>
												<p:inputText value="#{EditMedicalProposalActionBean.dto.customer.placeOfBirth}" style="width:250px;" id="insuredPersonPlaceOfBirth"
													disabled="#{EditMedicalProposalActionBean.selfRelation}">
												</p:inputText>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="insuredPersonMaritalStatus" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText style="color:red;" value="*" />
												<h:outputText value="#{label['MERITAL_STATUS_LABEL']}" />
											</td>
											<td>
												<p:selectOneMenu converter="omnifaces.SelectItemsConverter" value="#{EditMedicalProposalActionBean.medicalProposalDTO.customer.maritalStatus}"
													id="insuredPersonMaritalStatus" style="width:258px;" disabled="#{EditMedicalProposalActionBean.selfRelation}">
													<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.maritalStatus}" var="type" />
												</p:selectOneMenu>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="gender" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText style="color:red;" value="*" />
												<h:outputText value="#{label['GENDER_LABEL']}" />
											</td>
											<td>
												<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="gender" style="width:258px;" value="#{EditMedicalProposalActionBean.dto.customer.gender}"
													disabled="#{EditMedicalProposalActionBean.selfRelation}">
													<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.gender}" var="type" />
												</p:selectOneMenu>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="insuredPersonHeight" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText value="*" style="color:red;" />
												<h:outputText value="#{label['HEIGHT_LABEL']}" />
											</td>
											<td>
												<p:inputText value="#{EditMedicalProposalActionBean.dto.customer.height}" style="width:250px;" id="insuredPersonHeight" required="true"
													disabled="#{EditMedicalProposalActionBean.selfRelation}">
													<f:convertNumber pattern="#{ApplicationSetting.numberFormat}" />
												</p:inputText>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="insuredPersonWeight" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText value="*" style="color:red;" />
												<h:outputText value="#{label['WEIGHT_LABEL']}" />
											</td>
											<td>
												<p:inputText value="#{EditMedicalProposalActionBean.dto.customer.weight}" style="width:250px;  " id="insuredPersonWeight" required="true"
													disabled="#{EditMedicalProposalActionBean.selfRelation}">
													<f:convertNumber pattern="#{ApplicationSetting.numberFormat}" />
												</p:inputText>
											</td>
										</tr>
									</table>
								</td>
								<td valign="top" width="50%">
									<table>
										<tr>
											<td />
											<td>
												<h:panelGrid>
													<p:message for="idNo" />
												</h:panelGrid>
											</td>
										</tr>
										<tr>
											<td>
												<h:panelGrid>
													<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="insuRegidType" style="width: 120px;" value="#{EditMedicalProposalActionBean.dto.customer.idType}"
														disabled="#{EditMedicalProposalActionBean.selfRelation}">
														<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.idTypes}" var="type" />
														<p:ajax event="valueChange" listener="#{EditMedicalProposalActionBean.changeIdTypeInsuredPerson}" update="insuredPersonIdNoPanelGrid" />
													</p:selectOneMenu>
												</h:panelGrid>
											</td>
											<td>
												<h:panelGrid columns="5" id="insuredPersonIdNoPanelGrid" style="margin-left: -4px;">
													<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="insuredPersonstateCode" rendered="#{EditMedicalProposalActionBean.nrcInsuredPerson}"
														value="#{EditMedicalProposalActionBean.dto.customer.stateCode}" disabled="#{EditMedicalProposalActionBean.selfRelation}" style="width: 50px;">
														<f:selectItem itemLabel="---" />
														<f:selectItems var="stateCode" itemLabel="#{stateCode.codeNo}" itemValue="#{stateCode}" value="#{EditMedicalProposalActionBean.stateCodeList}" />
														<p:ajax event="valueChange" listener="#{EditMedicalProposalActionBean.changeStateCode}" update="insuredPersonIdNoPanelGrid" />
													</p:selectOneMenu>
													<p:selectOneMenu style="width: 90px;" converter="omnifaces.SelectItemsConverter" id="insuredPersontownshipCode"
														value="#{EditMedicalProposalActionBean.dto.customer.townshipCode}"
														rendered="#{EditMedicalProposalActionBean.haveTownship || EditMedicalProposalActionBean.nrcInsuredPerson}" disabled="#{EditMedicalProposalActionBean.selfRelation}">
														<f:selectItem itemLabel="---" />
														<f:selectItems var="townshipCode" itemLabel="#{townshipCode.townshipcodeno}" itemValue="#{townshipCode}" value="#{EditMedicalProposalActionBean.townshipCodeList}" />
													</p:selectOneMenu>
													<p:selectOneMenu style="width: 40px;" converter="omnifaces.SelectItemsConverter" id="insuredPersonidConditionType"
														value="#{EditMedicalProposalActionBean.dto.customer.idConditionType}" disabled="#{EditMedicalProposalActionBean.selfRelation}"
														rendered="#{EditMedicalProposalActionBean.nrcInsuredPerson}">
														<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.idConditionType}" var="type" />
													</p:selectOneMenu>
													<p:inputText id="idNo" value="#{EditMedicalProposalActionBean.dto.customer.idNo}" disabled="#{EditMedicalProposalActionBean.selfRelation}"
														rendered="#{EditMedicalProposalActionBean.stillApplyInsuredPerson}" style="#{EditMedicalProposalActionBean.nrcInsuredPerson eq true? 'width: 50px' : 'width: 250px'};">
													</p:inputText>
												</h:panelGrid>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="occupation" />
											</td>
										</tr>
										<tr>
											<td style="width: 160px;">
												<h:outputText style="color:red;" value="*" />
												<h:outputText value="#{label['OCCUPATION_LABEL']}" />
											</td>
											<td>
												<h:panelGrid columns="2" id="occupationPanelGroup">
													<p:inputText id="occupation" readonly="#{EditMedicalProposalActionBean.dto.customer.occupation == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
														style="width:250px;margin-left:-4px;  "
														value="#{EditMedicalProposalActionBean.dto.customer.occupation == null ? '' : EditMedicalProposalActionBean.dto.customer.occupation.name}"
														disabled="#{EditMedicalProposalActionBean.selfRelation}" required="true" />
													<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectOccupation()}" id="selectOccupationDialogLink1" immediate="true"
														disabled="#{EditMedicalProposalActionBean.selfRelation}">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnOccupation}" update="occupationPanelGroup" />
													</p:commandLink>
												</h:panelGrid>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="insuredPersonNationality" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText value="*" style="color: red;" />
												<h:outputText value="#{label['NATIONALITY_LABEL']}" />
											</td>
											<td>
												<h:panelGrid columns="2" id="nationalityPanelGroupInsuredPerson">
													<p:inputText id="insuredPersonNationality" readonly="#{EditMedicalProposalActionBean.dto.customer.country == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
														style="width:250px;margin-left:-4px;" required="true"
														value="#{EditMedicalProposalActionBean.dto.customer.country == null ? '' : EditMedicalProposalActionBean.dto.customer.country.name}"
														disabled="#{EditMedicalProposalActionBean.selfRelation}" />
													<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectCountry()}" id="selectNationalityDialogLinkInsuredPerson" immediate="true"
														disabled="#{EditMedicalProposalActionBean.selfRelation}">
														<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnNationalityForInsuredPerson}" update="nationalityPanelGroupInsuredPerson" />
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
													</p:commandLink>
												</h:panelGrid>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="townShip" id="MsgTownShip" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText style="color:red;" value="*" />
												<h:outputText value="#{label['MANAGE_CUSTOMER_RESIDENTTOWNID_LABEL']}" />
											</td>
											<td>
												<h:panelGrid columns="3" id="townShipPanelGroup1">
													<p:inputText id="townShip" required="true"
														readonly="#{EditMedicalProposalActionBean.dto.customer.residentAddress.township == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
														style="width:250px;margin-left:-4px;"
														value="#{EditMedicalProposalActionBean.dto.customer.residentAddress.township == null ? '' : EditMedicalProposalActionBean.dto.customer.residentAddress.township.name}"
														disabled="#{EditMedicalProposalActionBean.selfRelation}" />
													<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectTownship()}" id="selectTownShipDialogLink1" immediate="true"
														disabled="#{EditMedicalProposalActionBean.selfRelation}">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnInsuredPersonTownShip}" update="townShipPanelGroup1 MsgTownShip" />
													</p:commandLink>
												</h:panelGrid>
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="resident" />
											</td>
										</tr>
										<tr>
											<td valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText value="#{label['MANAGE_CUSTOMER_RESIDENTADD_LABEL']}" />
											</td>
											<td>
												<p:inputTextarea id="resident" style="width: 350px;" value="#{EditMedicalProposalActionBean.dto.customer.residentAddress.residentAddress}"
													disabled="#{EditMedicalProposalActionBean.selfRelation}" />
											</td>
										</tr>
										<tr>
											<td />
											<td>
												<p:message for="basicPlusUnit" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText value="Basic Plus" />
											</td>
											<td>
												<p:inputText id="basicPlusUnit" style="width: 200px;" value="#{EditMedicalProposalActionBean.dto.basicPlusUnit}">
													<f:validateLongRange maximum="#{EditMedicalProposalActionBean.maxUnit}" />
												</p:inputText>
											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr style="height: 40px;">
								<td align="left" colspan="2" width="100%">
									<p:message for="beneficiariesInfoTablePanel" />
									<h:panelGroup id="beneficiariesInfoTablePanel" style="width:100%">
										<fieldset style="width: 75%">
											<legend>
												<table>
													<tr>
														<td>
															<p:commandLink action="#{EditMedicalProposalActionBean.prepareAddNewBeneficiariesInfo()}" immediate="true" oncomplete="PF('beneficiariesInfoEntryDialog').show()"
																update=":beneficiaryInfoEntryForm">
																<h:graphicImage styleClass="#{ApplicationSetting.addStyleClass}" value="#{ApplicationSetting.addIcon}" />
															</p:commandLink>
														</td>
														<td>
															<h:outputText value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIESINFO_LABLE']}" />
														</td>
													</tr>
												</table>
											</legend>
											<p:dataTable id="beneficiaryPersonTable" style="width:100%" value="#{EditMedicalProposalActionBean.proposalInsuredPersonBeneficiariesList}" var="beneficiary">
												<p:column headerText="#{label['BENE_NAME_LABEL']}">
													<h:outputText value="#{beneficiary.fullName}" />
												</p:column>
												<p:column headerText="#{label['MANAGE_CUSTOMER_DOB_LABEL']}">
													<h:outputText value="#{beneficiary.age}">
													</h:outputText>
												</p:column>
												<p:column headerText="#{label['ID_LABEL']}">
													<h:outputText value="#{beneficiary.fullIdNo}" />
												</p:column>
												<p:column headerText="#{label['MANAGE_CUSTOMER_RESIDENTTOWNID_LABEL']}">
													<h:outputText value="#{beneficiary.residentAddress.township.name}" />
												</p:column>
												<p:column headerText="#{label['PERCENTAGE_LABEL']}">
													<h:outputText value="#{beneficiary.percentage}%" />
												</p:column>
												<p:column headerText="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_RELATIONSHIP_LABEL']}">
													<h:outputText value="#{beneficiary.relationship.name}" />
												</p:column>
												<p:column style="width:50px; text-align: center;" headerText="Edit">
													<p:commandLink action="#{EditMedicalProposalActionBean.prepareEditBeneficiariesInfo(beneficiary)}" id="editBeneficiaryLink" immediate="true"
														oncomplete="PF('beneficiariesInfoEntryDialog').show()" update=":beneficiaryInfoEntryForm">
														<p:graphicImage styleClass="#{ApplicationSetting.editStyleClass}" value="#{ApplicationSetting.editIcon}" />
													</p:commandLink>
												</p:column>
												<p:column style="width:50px; text-align: center;" headerText="Delete">
													<p:commandLink action="#{EditMedicalProposalActionBean.removeBeneficiariesInfo(beneficiary)}" id="removeBeneficiaryLink"
														update=":medicalProposalEntryForm:beneficiariesInfoTablePanel">
														<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
													</p:commandLink>
												</p:column>
											</p:dataTable>
										</fieldset>
									</h:panelGroup>
								</td>
							</tr>
						</table>
						<p:commandButton style="width: 65px;" action="#{EditMedicalProposalActionBean.saveMedicalInsuredPerson}" id="addMedicalInsuredPersonBtn"
							rendered="#{EditMedicalProposalActionBean.createNewIsuredPersonInfo}" update="medicalProposalEntryForm:insuredPersonInfoWizardPanel" value="#{label['COMMON_ADDNEW_BTN']}"
							ajax="false" />
						<p:commandButton style="width: 65px;" action="#{EditMedicalProposalActionBean.saveMedicalInsuredPerson}" id="editMedicalInsuredPersonBtn"
							rendered="#{!EditMedicalProposalActionBean.createNewIsuredPersonInfo}" update=":medicalProposalEntryForm:insuredPersonInfoWizardPanel" value="#{label['COMMON_UPDATE_BTN']}" />
						<p:separator style="height: 3px" />
						<h:panelGrid columns="4">
							<h:commandLink action="#{EditMedicalProposalActionBean.prepareAddNewInsuredPersonInfo()}" immediate="true" update=":medicalProposalEntryForm:insuredPersonInfoWizardPanel">
								<f:ajax render=":medicalProposalEntryForm:insuredPersonInfoWizardPanel" />
								<h:panelGrid columns="2">
									<h:graphicImage styleClass="#{ApplicationSetting.addStyleClass}" value="#{ApplicationSetting.addIcon}" />
									<h:outputText styleClass="command-link" value="#{label['COMMON_ADDNEW_LINK']}" />
								</h:panelGrid>
							</h:commandLink>
						</h:panelGrid>
						<p:dataTable id="insuredPersonInfoTable" style="width:100%" value="#{EditMedicalProposalActionBean.insuredPersonDtoList}" var="dto">
							<p:column headerText="Name">
								<h:outputText value="#{dto.customer.fullName}" />
							</p:column>
							<p:column headerText="Date Of Birth" style="width: 65px;">
								<h:outputText value="#{dto.customer.dateOfBirth}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</h:outputText>
							</p:column>
							<p:column headerText="Occupation">
								<h:outputText value="#{dto.customer.occupation.name}" />
							</p:column>
							<p:column headerText="Address">
								<h:outputText value="#{dto.customer.fullAddress}" />
							</p:column>
							<p:column headerText="Age">
								<h:outputText value="#{dto.age}" />
							</p:column>
							<p:column headerText="End Date" style="width: 65px;">
								<h:outputText value="#{dto.endDate}">
									<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
								</h:outputText>
							</p:column>
							<p:column headerText="Add On" style="width: 160px;">
								<ui:repeat value="#{dto.insuredPersonAddOnList}" var="insuredAddOn" varStatus="status">
								  (#{status.index + 1}) #{insuredAddOn.addOn.name} -  #{insuredAddOn.unit}  unit(s)<br />
								</ui:repeat>
							</p:column>
							<p:column style="width:30px; text-align: center;" headerText="AddOn Config">
								<p:commandLink id="#{index}AddOnConfigLink" immediate="true" oncomplete="PF('addOnConfigDialog').show()" update=":addOnConfigForm">
									<f:setPropertyActionListener target="#{EditMedicalProposalActionBean.dto}" value="#{dto}" />
									<p:graphicImage styleClass="#{ApplicationSetting.configStyleClass}" value="#{ApplicationSetting.configIcon}" />
								</p:commandLink>
							</p:column>
							<p:column style="width:30px; text-align: center;" headerText="History Record">
								<p:commandLink id="#{index}historyRecordLink" oncomplete="PF('addOnConfigDialog1').show()" update=":addOnConfigForm1" immediate="true"
									action="#{EditMedicalProposalActionBean.prepareHistoryRecord(dto)}">
									<f:setPropertyActionListener target="#{EditMedicalProposalActionBean.dto}" value="#{dto}" />
									<p:graphicImage value="/images/approval.png" style="width:25px;heifht:32px;" />
								</p:commandLink>
							</p:column>
							<p:column style="width: 30px; text-align: center;" headerText="Edit">
								<p:commandLink action="#{EditMedicalProposalActionBean.prepareEditInsuredPersonInfo(dto)}" id="editMedicalInsuredPersonLink"
									update=":medicalProposalEntryForm:insuredPersonInfoWizardPanel">
									<p:graphicImage styleClass="#{ApplicationSetting.editStyleClass}" value="#{ApplicationSetting.editIcon}" />
								</p:commandLink>
							</p:column>
							<p:column style="width: 30px; text-align: center;" headerText="Delete">
								<p:commandLink action="#{EditMedicalProposalActionBean.removeInsuredPersonInfo(dto)}" id="removeMedicalInsuredPersonLink"
									update=":medicalProposalEntryForm:insuredPersonInfoWizardPanel">
									<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
								</p:commandLink>
							</p:column>
						</p:dataTable>
					</p:panel>
				</p:tab>
				<p:tab id="workFlow" title="WorkFlow">
					<p:panel header="Workflow" id="workflowWizardPanel" style="min-height:270px;">
						<table>
							<tr>
								<td />
								<td>
									<p:message for="remark" />
								</td>
							</tr>
							<tr>
								<td style="width: 150px;" valign="top">
									<h:outputText styleClass="input-label" value="Remark" />
								</td>
								<td>
									<p:inputTextarea autoResize="true" id="remark" rows="10" style="width:450px;" value="#{EditMedicalProposalActionBean.remark}">
										<p:ajax update=":medicalProposalEntryForm:remark" />
										<f:validateLength maximum="8000" />
									</p:inputTextarea>
								</td>
							</tr>
							<tr>
								<td>
									<h:outputText styleClass="input-label" value="Is it need to survey again?" />
								</td>
								<td>
									<p:selectOneRadio converter="omnifaces.SelectItemsConverter" id="needSurvey" style="width:130px;" value="#{EditMedicalProposalActionBean.surveyAgain}">
										<f:selectItem itemLabel="#{label['BOOLEAN_YES_LABEL']}" itemValue="true" />
										<f:selectItem itemLabel="#{label['BOOLEAN_NO_LABEL']}" itemValue="false" />
										<p:ajax event="valueChange" listener="#{EditMedicalProposalActionBean.changeEvent}" update=":medicalProposalEntryForm:responsiblePersonPanel" />
									</p:selectOneRadio>
								</td>
							</tr>
							<tr>
								<td />
								<td>
									<p:message for="responsiblePerson" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputText styleClass="input-label" value="Responsible Person" />
								</td>
								<td>
									<h:panelGrid columns="3" id="responsiblePersonPanel">
										<p:inputText id="responsiblePerson" readonly="true" required="true" style="width:250px;margin-left:-4px;"
											value="#{EditMedicalProposalActionBean.responsiblePerson == null ? '' : EditMedicalProposalActionBean.responsiblePerson.name}" />
										<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectSurveyUser()}" id="selectSurveyUserDialogLink" immediate="true"
											rendered="#{EditMedicalProposalActionBean.surveyAgain}">
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnUser}" update="responsiblePersonPanel" />
										</p:commandLink>
										<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectApprovalUser()}" id="selectApprovalUserDialogLink" immediate="true"
											rendered="#{!EditMedicalProposalActionBean.surveyAgain}">
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnUser}" update="responsiblePersonPanel" />
										</p:commandLink>
									</h:panelGrid>
								</td>
							</tr>
						</table>
					</p:panel>
				</p:tab>
			</p:wizard>
			<br />
			<h:panelGroup>
				<p:commandButton action="#{EditMedicalProposalActionBean.updateMedicalProposal()}" update=":medicalProposalEntryForm" value="Update Proposal" />
				<p:spacer width="10" />
				<p:commandButton style="width: 65px;" action="dashboard" immediate="true" value="#{label['COMMON_CANCEL_BTN']}" />
			</h:panelGroup>
		</h:form>
		<p:dialog height="auto" width="500" hideEffect="explode" id="addOnConfigDialog" resizable="false" showEffect="explode" widgetVar="addOnConfigDialog" dynamic="true"
			appendTo="@(body)" modal="true" header="Additional Cover Dialog" closable="true">
			<h:form id="addOnConfigForm">
				<table width="100%">
					<tr>
						<td>
							<h:message for="addOnTable" style="color:red" />
						</td>
					</tr>
					<tr>
						<td>
							<p:dataTable id="addOnTable" var="addOnDTO" style="with: 100%;" editable="true" editMode="cell" rowIndexVar="index"
								selection="#{EditMedicalProposalActionBean.selectedAddOnLists}" value="#{EditMedicalProposalActionBean.addOnList}" rowKey="#{addOnDTO.addOn.id}">
								<p:ajax event="rowSelectCheckbox" listener="#{EditMedicalProposalActionBean.onRowSelect}" update=":addOnConfigForm :addOnUnitDialogForm" />
								<p:column selectionMode="multiple" style="width: 1%;text-align:center" />
								<p:column filterBy="#{addOnDTO.addOn.name}" filterMatchMode="contains" headerText="Name" style="width: 39%;">
									<h:outputText value="#{addOnDTO.addOn.name}" />
								</p:column>
								<p:column headerText="Description" style="width: 40%;">
									<h:outputText style="float:right;" value="#{addOnDTO.addOn.description}" />
								</p:column>
								<p:column headerText="Unit" style="width: 20%;">
									<h:outputText style="float:right;" value="#{addOnDTO.unit}" />
								</p:column>
							</p:dataTable>
						</td>
					</tr>
				</table>
				<br />
				<p:separator />
				<br />
				<p:commandButton style="width: 65px;" action="#{EditMedicalProposalActionBean.applyProduct}" oncomplete="PF('addOnConfigDialog').hide()"
					update=":medicalProposalEntryForm:insuredPersonInfoTable" value="Apply" id="apply" />
				<p:spacer width="10px;" />
				<p:commandButton style="width: 65px;" immediate="true" oncomplete="PF('PF('addOnConfigDialog').hide()" value="Close" />
				<br />
				<br />
			</h:form>
		</p:dialog>
		<p:dialog id="addOnUnitDialog" appendTo="@(body)" closable="true" dynamic="true" modal="true" widgetVar="addOnUnitDialog" draggable="false" resizable="flase"
			header="AddOn Unit Dialog">
			<style>
.ui-message-error {
	width: 100% !important;
}
</style>
			<h:form id="addOnUnitDialogForm">
				<table style="width: 100%;">
					<tr style="width: 100%;">
						<td colspan="2">
							<p:message for="value" />
						</td>
					</tr>
					<tr>
						<td style="width: 100px;">
							<h:outputText style="color:red;" value="*" />
							<h:outputText value="Unit" />
						</td>
						<td>
							<p:inputText id="value" required="true" style="width: 150px; text-align: right;" value="#{EditMedicalProposalActionBean.unit}" />
						</td>
					</tr>
				</table>
				<br />
				<p:separator />
				<p:commandButton style="width: 65px;" value="Add" action="#{EditMedicalProposalActionBean.addUnit}" update=":addOnConfigForm:addOnTable :addOnUnitDialogForm" />
				<br />
				<br />
			</h:form>
		</p:dialog>
		<!-- beneficiaries Info Entry Dialog -->
		<p:dialog header="#{label['BENEFICIARYINFO_LABLE']}" hideEffect="explode" id="beneficiariesInfoEntryDialog" resizable="fasle" showEffect="explode" appendTo="@(body)"
			widgetVar="beneficiariesInfoEntryDialog" width="500" height="auto">
			<h:form id="beneficiaryInfoEntryForm">
				<h:panelGroup id="beneficiariesInfoPanel">
					<table>
						<tr>
							<td />
							<td>
								<p:message for="Name" />
							</td>
						</tr>
						<tr>
							<td style="width: 50%;">
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="#{label['NAME_LABEL']}" />
							</td>
							<td style="width: 50%;">
								<p:inputText id="Name" style="width:250px;" value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.name.firstName}" required="true" />
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="benificiaryDateOfBirth" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="#{label['MANAGE_CUSTOMER_DOB_LABEL']}" />
							</td>
							<td>
								<p:inputText required="true" id="benificiaryDateOfBirth" style="width:250px;" value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.age}">
									<f:validateLongRange minimum="0" />
								</p:inputText>
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="BeneRegidNo" />
							</td>
						</tr>
						<tr>
							<td>
								<h:panelGrid>
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="beneRegidType" style="width: 120px;"
										value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.idType}">
										<f:selectItems itemLabel="#{type.label}" itemValue="#{type}" value="#{EditMedicalProposalActionBean.idTypes}" var="type" />
										<p:ajax event="valueChange" listener="#{EditMedicalProposalActionBean.changeIdTypeBene}" update="beneIdNoPanelGrid" />
									</p:selectOneMenu>
								</h:panelGrid>
							</td>
							<td>
								<h:panelGrid columns="4" id="beneIdNoPanelGrid" style="margin-left:-4px;">
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="beneStateCode" rendered="#{EditMedicalProposalActionBean.nrcBene}"
										value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.stateCode}" style="width:50px;">
										<f:selectItem itemLabel="" />
										<f:selectItems var="stateCode" itemLabel="#{stateCode.codeNo}" itemValue="#{stateCode}" value="#{EditMedicalProposalActionBean.stateCodeList}" />
										<p:ajax event="valueChange" listener="#{EditMedicalProposalActionBean.changeStateCode}" update="beneIdNoPanelGrid" />
									</p:selectOneMenu>
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="beneTownshipCode"
										rendered="#{EditMedicalProposalActionBean.nrcBene ||  EditMedicalProposalActionBean.haveTownship}"
										value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.townshipCode}" style="width: 90px;">
										<f:selectItem itemLabel="" />
										<f:selectItems var="townshipCode" itemLabel="#{townshipCode.townshipcodeno}" itemValue="#{townshipCode}" value="#{EditMedicalProposalActionBean.townshipCodeList}" />
									</p:selectOneMenu>
									<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="beneidConditionType" rendered="#{EditMedicalProposalActionBean.nrcBene}"
										value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.idConditionType}" style="width: 40px;">
										<f:selectItems value="#{EditMedicalProposalActionBean.idConditionType}" var="type" itemLabel="#{type.label}" itemValue="#{type}" />
									</p:selectOneMenu>
									<p:inputText id="BeneRegidNo" rendered="#{EditMedicalProposalActionBean.stillApplyBene}"
										style="#{EditMedicalProposalActionBean.nrcBene eq true ? 'width: 50px' : 'width: 250px'};" value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.idNo}"
										required="true">
									</p:inputText>
								</h:panelGrid>
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="beneficiaryRelationShip" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value=" "></h:outputText>
								<h:outputText value="#{label['MANAGE_INSUREDPERSON_BENEFICIARIES_RELATIONSHIP_LABEL']}" />
							</td>
							<td>
								<p:selectOneMenu converter="omnifaces.SelectItemsConverter" required="true" id="beneficiaryRelationShip" style="height:24px;width: 258px;"
									value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.relationship}">
									<f:selectItem itemLabel="Select" />
									<f:selectItems value="#{EditMedicalProposalActionBean.relationshipList}" var="relationship" itemLabel="#{relationship.name}" itemValue="#{relationship}" />
								</p:selectOneMenu>
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="beneRegmobile" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText value="*" style="color:red;" />
								<h:outputText value="#{label['MANAGE_CUSTOMER_MOBILE_LABEL']}" />
							</td>
							<td>
								<p:inputText style="width:250px;" id="beneRegmobile" required="true" value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.contentInfo.mobile}">
								</p:inputText>
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="percentage" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="#{label['PERCENTAGE_LABEL']}" />
							</td>
							<td>
								<p:inputText id="percentage" required="true" style="width:250px;" value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.percentage}" />
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="fatherName" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText value="#{label['MANAGE_CUSTOMER_FATHERNAME_LABEL']}" />
							</td>
							<td>
								<p:inputText id="fatherName" style="width:250px;" value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.fatherName}" />
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="beneRegphone" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText value="#{label['MANAGE_CUSTOMER_PHONE_LABEL']}" />
							</td>
							<td>
								<p:inputText style="width:250px;" id="beneRegphone" value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.contentInfo.phone}" />
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="townShip" id="MsgTS" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="#{label['MANAGE_CUSTOMER_RESIDENTTOWNID_LABEL']}" />
							</td>
							<td>
								<h:panelGrid columns="3" id="townShipPanelGroup2">
									<p:inputText id="townShip"
										readonly="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.residentAddress.township == null ? facesContext.currentPhaseId.ordinal eq 6 : true}" required="true"
										style="width:250px;margin-left:-4px;"
										value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.residentAddress.township == null ? '' : EditMedicalProposalActionBean.beneficiariesInfoDTO.residentAddress.township.name}">
										<f:validateLength maximum="36" />
									</p:inputText>
									<p:commandLink actionListener="#{EditMedicalProposalActionBean.selectTownship()}" id="selectTownShipDialogLink2" immediate="true">
										<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
										<p:ajax event="dialogReturn" listener="#{EditMedicalProposalActionBean.returnBeneficiariesTownShip}" update="townShipPanelGroup2 MsgTS" />
									</p:commandLink>
								</h:panelGrid>
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="address" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value=" "></h:outputText>
								<h:outputText value="#{label['MANAGE_CUSTOMER_RESIDENTADD_LABEL']}" />
							</td>
							<td>
								<p:inputTextarea id="address" required="true" style="width:250px;" value="#{EditMedicalProposalActionBean.beneficiariesInfoDTO.residentAddress.residentAddress}" />
							</td>
						</tr>
					</table>
					<p:separator />
					<p:commandButton style="width: 65px;" action="#{EditMedicalProposalActionBean.saveBeneficiariesInfo()}"
						update=":medicalProposalEntryForm:beneficiariesInfoTablePanel beneficiariesInfoPanel" value="#{EditMedicalProposalActionBean.createEdit == true ? 'Edit' : 'Save'}" />
					<p:spacer style="height:10px" />
					<p:commandButton style="width: 65px;" immediate="true" oncomplete="PF('PF('beneficiariesInfoEntryDialog').hide()" value="Cancel" />
					<br />
				</h:panelGroup>
			</h:form>
		</p:dialog>
		<p:dialog height="500" width="650" hideEffect="explode" id="addOnConfigDialog1" resizable="false" showEffect="explode" widgetVar="addOnConfigDialog1" dynamic="true"
			appendTo="@(body)" modal="true" header="Additional Cover Dialog" closable="true">
			<h:form id="addOnConfigForm1">
				<p:panel id="recordTable">
					<table style="width: 100%;">
						<tr>
							<td />
							<td>
								<p:message for="company" />
							</td>
						</tr>
						<tr>
							<td style="width: 150px;">
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="Company Name" />
							</td>
							<td>
								<p:selectOneMenu required="true" converter="omnifaces.SelectItemsConverter" id="company" style="height:24px;width: 258px;"
									value="#{EditMedicalProposalActionBean.historyRecord.company}">
									<f:selectItem itemLabel="Select" />
									<f:selectItems value="#{EditMedicalProposalActionBean.companyList}" var="company" itemLabel="#{company.name}" itemValue="#{company}" />
								</p:selectOneMenu>
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="policyNo" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="Policy No" />
							</td>
							<td>
								<p:inputText required="true" id="policyNo" style="width:250px;" value="#{EditMedicalProposalActionBean.historyRecord.policyNo}" />
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="unit" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="Units" />
							</td>
							<td>
								<p:inputText required="true" id="unit" style="width:250px;" value="#{EditMedicalProposalActionBean.historyRecord.unit}" />
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="advanced" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="Product" />
							</td>
							<td>
								<p:selectManyMenu required="true" converter="omnifaces.SelectItemsConverter" style="width:250px;" id="advanced"
									value="#{EditMedicalProposalActionBean.selectedProduct}" var="t" filter="true" filterMatchMode="contains" showCheckbox="true">
									<f:selectItems value="#{EditMedicalProposalActionBean.productList}" var="product" itemLabel="#{product.name}" itemValue="#{product}" />
									<p:column>
										<h:outputText value="#{t.name}" />
									</p:column>
								</p:selectManyMenu>
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="fromDate" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="From Date" />
							</td>
							<td>
								<p:calendar id="fromDate" required="true" pattern="#{ApplicationSetting.dateFormat}" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
									value="#{EditMedicalProposalActionBean.historyRecord.fromDate}" />
							</td>
						</tr>
						<tr>
							<td />
							<td>
								<p:message for="toDate" />
							</td>
						</tr>
						<tr>
							<td>
								<h:outputText style="color:red;" value="*" />
								<h:outputText value="To Date" />
							</td>
							<td>
								<p:calendar id="toDate" required="true" pattern="#{ApplicationSetting.dateFormat}" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
									value="#{EditMedicalProposalActionBean.historyRecord.toDate}" />
							</td>
						</tr>
						<tr>
							<td colspan="2" align="center">
								<p:separator style="height: 3px" />
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<p:commandButton style="width: 65px;" action="#{EditMedicalProposalActionBean.saveHistoryRecord}" value="Save" update="@form" />
								<p:spacer width="10" />
								<p:commandButton style="width: 65px;" action="#{EditMedicalProposalActionBean.newHistoryRecord}" process="@this" value="#{label['COMMON_CANCEL_BTN']}" update="@form" />
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<p:dataTable id="hitoryRecordTable" var="record" style="with: 100%;" editable="true" editMode="cell" rowIndexVar="index"
									value="#{EditMedicalProposalActionBean.historyRecordList}">
									<p:column headerText="Company Name" style="width: 35%;">
										<h:outputText value="#{record.company.name}" />
									</p:column>
									<p:column headerText="Policy No" style="width: 35%;">
										<h:outputText value="#{record.policyNo}" />
									</p:column>
									<p:column headerText="Unit" style="width: 5%;">
										<h:outputText value="#{record.unit}" />
									</p:column>
									<p:column headerText="From Date" style="width: 10%;">
										<h:outputText style="float:right;" value="#{record.fromDate}">
											<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
										</h:outputText>
									</p:column>
									<p:column headerText="To Date" style="width: 10%;">
										<h:outputText style="float:right;" value="#{record.toDate}">
											<f:convertDateTime pattern="#{ApplicationSetting.dateFormat}" timeZone="#{ApplicationSetting.timeZone}" />
										</h:outputText>
									</p:column>
									<p:column style="width: 5%; text-align: center;" headerText="Delete">
										<p:commandLink action="#{EditMedicalProposalActionBean.removeHistoryRecord(record)}" immediate="true" id="removeHistoryLink" update="hitoryRecordTable">
											<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
										</p:commandLink>
									</p:column>
								</p:dataTable>
							</td>
						</tr>
					</table>
				</p:panel>
				<br />
				<p:commandButton style="width: 65px;" process="@this" action="#{EditMedicalProposalActionBean.addHistoryRecord}" value="Apply" oncomplete="PF('addOnConfigDialog1').hide()"
					update=":medicalProposalEntryForm:insuredPersonInfoTable" />
				<p:spacer width="10" />
				<p:commandButton style="width: 65px;" value="#{label['COMMON_CANCEL_BTN']}" process="@this" oncomplete="PF('addOnConfigDialog1').hide()" />
				<br />
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>
