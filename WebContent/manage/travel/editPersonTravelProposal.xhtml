<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="/common/commonLayout.xhtml">
	<ui:param name="uploadRootPath" value="/image" />
	<ui:define name="content">
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<h:form enctype="multipart/form-data" id="personTravelProposalEditForm">
			<table width="100%">
				<tr>
					<td>
						<h:outputText styleClass="table-title" value="Edit Person Travel Proposal" />
					</td>
					<td align="center" width="70%">
						<div style="z-index: 100; position: fixed; margin-top: -30px; width: 800px;">
							<p:messages globalOnly="true" id="messages" showDetail="true" />
						</div>
					</td>
				</tr>
			</table>
			<p:separator style="height:5px" />
			<p:wizard flowListener="#{EditPersonTravelProposalActionBean.onFlowProcess}" widgetVar="wiz">
				<p:tab id="policyInfo" title="Policy Info">
					<p:panel header="Policy Info" id="policyInfoWizardPanel" style="min-height:270px;">
						<table>
							<tr>
								<td valign="top">
									<table>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_CUSTOMER_LABEL']}" />
											</td>
											<td valign="top">
												<p:selectOneRadio converter="omnifaces.SelectItemsConverter" id="needSurvey" style="width:130px;" value="#{EditPersonTravelProposalActionBean.organization}">
													<f:selectItem itemLabel="Person" itemValue="false" />
													<f:selectItem itemLabel="Organization" itemValue="true" />
													<p:ajax event="valueChange" listener="#{EditPersonTravelProposalActionBean.changeOrgEvent}" update=":personTravelProposalEditForm:customerPanelGroup" />
												</p:selectOneRadio>
												<p:message for="customer" />
												<br />
												<h:panelGrid columns="3" id="customerPanelGroup">
													<p:inputText id="customer" readonly="#{EditPersonTravelProposalActionBean.travelProposal.customerName == null? facesContext.currentPhaseId.ordinal eq 6 :true}"
														style="width:250px;margin-left:-4px;" value="#{EditPersonTravelProposalActionBean.travelProposal.customerName}" required="true" />
													<p:watermark for="customer" value="Select Customer" />
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectCustomer()}" id="selectCustomerDialogLink" immediate="true"
														rendered="#{!EditPersonTravelProposalActionBean.organization}">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnCustomer}" update="customerPanelGroup" />
													</p:commandLink>
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectOrganization()}" id="selectOrganizationDialogLink" immediate="true"
														rendered="#{EditPersonTravelProposalActionBean.organization}">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnOrganization}" update="customerPanelGroup" />
													</p:commandLink>
												</h:panelGrid>
											</td>
										</tr>
										<tr>
											<td style="padding-top: 8px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="Sale Person" />
											</td>
											<td valign="top">
												<p:selectOneRadio converter="omnifaces.SelectItemsConverter" id="saleUserType" style="width:200px;" value="#{EditPersonTravelProposalActionBean.userType}">
													<f:selectItem itemLabel="Agent" itemValue="AGENT" />
													<f:selectItem itemLabel="Saleman" itemValue="SALEMAN" />
													<f:selectItem itemLabel="Referral" itemValue="REFERRAL" />
													<p:ajax event="valueChange" listener="#{EditPersonTravelProposalActionBean.changeSaleEvent}" update=":personTravelProposalEditForm:salePersonPanelGroup" />
												</p:selectOneRadio>
												<p:message for="userType" />
												<br />
												<h:panelGrid columns="3" id="salePersonPanelGroup">
													<p:inputText id="userType" readonly="#{EditPersonTravelProposalActionBean.travelProposal.salePersonName == null? facesContext.currentPhaseId.ordinal eq 6 :true}"
														style="width:250px;margin-left:-4px;" value="#{EditPersonTravelProposalActionBean.travelProposal.salePersonName}" required="true" />
													<p:watermark for="userType" value="Select Sale Person" />
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectAgent()}" id="selectAgentDialogLink" immediate="true"
														rendered="#{EditPersonTravelProposalActionBean.userType eq 'AGENT'}">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnAgent}" update="salePersonPanelGroup" />
													</p:commandLink>
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectSaleMan()}" id="selectSaleManDialogLink" immediate="true"
														rendered="#{EditPersonTravelProposalActionBean.userType eq 'SALEMAN'}">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnSaleMan}" update="salePersonPanelGroup" />
													</p:commandLink>
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectReferral()}" id="selectReferralDialogLink" immediate="true"
														rendered="#{EditPersonTravelProposalActionBean.userType eq 'REFERRAL'}">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnReferral}" update="salePersonPanelGroup" />
													</p:commandLink>
												</h:panelGrid>
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText styleClass="input-label" value="Sale Channel" />
											</td>
											<td>
												<p:selectBooleanCheckbox  value="#{EditPersonTravelProposalActionBean.travelProposal.channel}">
									     			<p:ajax event="valueChange" update="policyInfoWizardPanel" listener="#{EditPersonTravelProposalActionBean.changeChannel}"/>
												</p:selectBooleanCheckbox>
											</td>
										</tr>
										<tr>
											<td>
												<p:message for="channel" display="text" />
											</td>
										</tr>							
										<tr>
											<td>
												<h:outputText styleClass="input-label mandatory"    id="channellabel" value="Channel" />					
											</td>
											<td> 
												<h:panelGrid columns="3" id="channelPanelGroup"   style="height:24px;width: 258px;"  >
													<p:inputText id="channel"  required="true" style="width:250px;margin-left:-4px;"
															readonly="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.channel == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.channel == null ? '' : EditPersonTravelProposalActionBean.bancaassuranceProposal.channel.name}" />
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectChannels()}" id="selectChannelDialogLink" immediate="true" process="@this">
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnChannel}" update="channel" />
													</p:commandLink>	
											   </h:panelGrid>
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText styleClass="input-label mandatory" value="BancaBranch"    />								
											</td>
											<td> 
												<h:panelGrid columns="3" id="bancaBranchPanelGroup"   style="height:24px;width: 258px;" >
														<p:inputText id="bancaBranch"  required="true" style="width:250px;margin-left:-4px;"
															readonly="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaBranch == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaBranch == null ? '' : EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaBranch.name}" />
														<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectBancaBranch()}" id="selectBancaBranchlink" immediate="true" process="@this">
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnBancaBranch}" update="bancaBranch" />
													</p:commandLink>					
											    </h:panelGrid>
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText styleClass="input-label mandatory" value="BancaBrm"    />
											</td>							
											<td> 
												<h:panelGrid columns="3" id="bancaBrmPanelGroup"   style="height:24px;width: 258px;">
														<p:inputText id="bancaBrm"  required="true" style="width:250px;margin-left:-4px;"
															readonly="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaBRM == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaBRM == null ? '' : EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaBRM.name}" />
														<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectBancaBrm()}" id="selectBancaBRMDialogLink" immediate="true" process="@this">
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnBancaBrm}" update="bancaBrm" />
														</p:commandLink>		
												</h:panelGrid>
											</td> 
										</tr>
										<tr>
											<td>
												<h:outputText styleClass="input-label mandatory" value="BancaCLI"   style="height:24px;width: 258px;"/>									
											</td>
			 								<td> 
												<h:panelGrid columns="3" id="bancaLICPanelGroup"  >
														<p:inputText id="bancaLIC"  required="true" style="width:250px;margin-left:-4px;"
															readonly="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaLIC == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
															value="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaLIC == null ? '' : EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaLIC.name}" />
														<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectBancaCLI()}" id="selectBancaCLIDialogLink" immediate="true" process="@this">
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnBancaLIC}" update="bancaLIC" />
														</p:commandLink>		
												</h:panelGrid>
											</td> 
										</tr>	
										<tr>
											<td>
												<h:outputText styleClass="input-label mandatory" value="Banca Method"   />									
											</td>
											<td> 
												<p:selectOneMenu converter="omnifaces.SelectItemsConverter"   style="width:250px;margin-left:-4px;"  required="true" id="bancaMethod" value="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaMethod}">
													<f:selectItem itemLabel="" noSelectionOption="true" />
													<f:selectItems value="#{EditPersonTravelProposalActionBean.bancaMethodList}" var="bancaMethod" itemLabel="#{bancaMethod.name}" itemValue="#{bancaMethod}" />
								    				<p:ajax event="valueChange" update="policyInfoWizardPanel" />
												</p:selectOneMenu>
											</td>
										</tr> 
										<tr>
											<td>
												 <h:outputText value="Banca Refferal"  id="bancaRefferalLabel"  />							
											</td>
											<td> 
												<h:panelGrid columns="3" id="bancaReferralPanelGroup" style="height:24px;width: 258px;" >
														<p:inputText id="bancaReferral"  required="true" style="width:250px;margin-left:-4px;"
														readonly="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaRefferal == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
														value="#{EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaRefferal == null ? '' : EditPersonTravelProposalActionBean.bancaassuranceProposal.bancaRefferal.name}" />
														<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectBancaReferral()}" id="selectBancaReferralDialogLink" immediate="true" process="@this">
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnBancaRefferal}" update="bancaReferral" />
														</p:commandLink>		
												</h:panelGrid>
											</td>
										</tr>	
										<tr height="10px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="productName" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="Product Name" />
											</td>
											<td>
												<p:inputText id="productName" style="width:250px;" value="#{EditPersonTravelProposalActionBean.travelProposal.product.name}" disabled="true">
												</p:inputText>
											</td>
										</tr>
									</table>
								</td>
								<td width="100px;"></td>
								<td valign="top">
									<table>
										<tr>
											<td style="width: 150px;" />
											<td>
												<p:message for="submittedDate" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_SUBMITTEDDATE_LABEL']}" />
											</td>
											<td>
												<p:calendar id="submittedDate" pattern="#{ApplicationSetting.dateFormat}" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
													value="#{EditPersonTravelProposalActionBean.travelProposal.submittedDate}" required="true" />
											</td>
										</tr>
										<tr height="8px" />
										<tr>
								<td />
								<td>
									<p:message for="entity" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputText style="color: red;" value="*" />
									<h:outputText value="Entity" />
								</td>
								<td>
									<h:panelGrid columns="3" id="entityPanelGroup">
										<p:inputText id="entity" style="width:250px;margin-left:-4px;margin-right: 3px;" readonly="#{EditPersonTravelProposalActionBean.entitys == null ?  facesContext.currentPhaseId.ordinal eq 6 : true}" required="true"
											value="#{EditPersonTravelProposalActionBean.entitys == null ? '' : EditPersonTravelProposalActionBean.entitys.name}" />
										<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectEntity()}" id="selectEntityDialogLink" immediate="true"
											>
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnEntity}" update="entity branch salePoint" />
										</p:commandLink>
									</h:panelGrid>
								</td>
							</tr>
										<tr>
											<td />
											<td>
												<p:message for="branch" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_BRANCH_LABEL']}" />
											</td>
											<td>
												<h:panelGrid columns="3" id="branchPanelGroup">
													<p:inputText id="branch" required="true" readonly="#{EditPersonTravelProposalActionBean.travelProposal.branch == null? facesContext.currentPhaseId.ordinal eq 6 :true}"
														style="width:250px;margin-left:-4px;"
														value="#{EditPersonTravelProposalActionBean.travelProposal.branch == null ? '' : EditPersonTravelProposalActionBean.travelProposal.branch.name}" />
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectBranchByEntity()}" id="selectBranchDialogLink" immediate="true">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnBranch}" update="branchPanelGroup" />
													</p:commandLink>
												</h:panelGrid>
											</td>
										</tr>
												<tr>
											<td />
											<td>
												<p:message for="salePoint" />
											</td>
										</tr>
								<tr>
								<td>
									<h:outputText style="color: red;" value="*" />
									<h:outputText value="Sale Point" />
								</td>
								<td>
									<h:panelGrid columns="3" id="salePontPanelGroup">
										<p:inputText id="salePoint" style="width:250px;margin-left:-4px;margin-right: 3px;" readonly="#{EditPersonTravelProposalActionBean.travelProposal.salePoint == null ?  facesContext.currentPhaseId.ordinal eq 6 : true}" required="true"
											value="#{EditPersonTravelProposalActionBean.travelProposal.salePoint == null ? '' : EditPersonTravelProposalActionBean.travelProposal.salePoint.name}" />
										<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectSalePoint()}" id="selectSalePointDialogLink" immediate="true"
											>
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnSalePoint}" update="salePontPanelGroup" />
										</p:commandLink>
									</h:panelGrid>
								</td>
							</tr>
										<tr height="8px" />
										<tr>
											<td />
											<td>
												<p:message for="paymentType" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_PAYMENTTYPE_LABEL']}" />
											</td>
											<td>
												<h:panelGrid columns="3" id="paymentTypePanelGroup">
													<p:inputText id="paymentType" readonly="#{EditPersonTravelProposalActionBean.travelProposal.paymentType == null? facesContext.currentPhaseId.ordinal eq 6 :true}"
														style="width:250px;margin-left:-4px;margin-right: 3px" disabled="true"
														value="#{EditPersonTravelProposalActionBean.travelProposal.paymentType == null ? '' : EditPersonTravelProposalActionBean.travelProposal.paymentType.description}" />
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectPaymentType()}" id="selectPaymentTypeDialogLink" immediate="true" disabled="true">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
													</p:commandLink>
												</h:panelGrid>
											</td>
										</tr>
										<tr height="8px" />
										<tr>
											<td />
											<td>
												<p:message for="currency" />
											</td>
										</tr>
										<tr>
											<td>
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_CURRENCY_LABEL']}" />
											</td>
											<td>
												<h:panelGrid columns="3" id="currencyPanelGroup">
													<p:inputText id="currency" readonly="#{EditPersonTravelProposalActionBean.travelProposal.currency == null? facesContext.currentPhaseId.ordinal eq 6 :true}"
														style="width:250px;margin-left:-4px;margin-right: 3px" disabled="true"
														value="#{EditPersonTravelProposalActionBean.travelProposal.currency == null ? '' : EditPersonTravelProposalActionBean.travelProposal.currency.description}" />
												</h:panelGrid>
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
					</p:panel>
				</p:tab>
				<p:tab id="TravelInfo" title="Travel Info">
					<p:panel header="Travel Information" id="travelInfoWizardPanel" style="min-height:270px;">
						<table>
							<tr>
								<td valign="top">
									<table>
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="usageOfVeh" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_USAGEOFVEHICLE_LABEL']}" />
											</td>
											<td>
												<p:selectCheckboxMenu converter="omnifaces.SelectItemsConverter" id="usageOfVeh" required="true" label="Select Vehicles"
													value="#{EditPersonTravelProposalActionBean.selectedUsages}" panelStyle="width:250px" style="width:250px" filter="false">
													<f:selectItems itemValue="#{usage}" itemLabel="#{usage.label}" value="#{EditPersonTravelProposalActionBean.usageOfVehicleList}" var="usage" />
													<p:ajax event="change" listener="#{EditPersonTravelProposalActionBean.changeUsageOfVehicle}" update="@form" />
												</p:selectCheckboxMenu>
											</td>
										</tr>
								<tr height="12px" />
										<p:outputPanel rendered="#{EditPersonTravelProposalActionBean.flight}" >
											<tr>
												<td>
													<h:outputText value="" />
												</td>
												<td>
													<p:message for="flightNo" />
												</td>
											</tr>
											<tr>
												<td></td>
											</tr>
											<tr>
												<td style="width: 150px;" valign="top">
													<h:outputText styleClass="input-label" value="Flight No" rendered="#{EditPersonTravelProposalActionBean.flight}" />
												</td>
												<td>
													<p:inputText id="flightNo" style="width:250px;" value="#{EditPersonTravelProposalActionBean.flightNo}"
														rendered="#{EditPersonTravelProposalActionBean.flight}" />
												</td>
											</tr>
											<tr height="12px" />
										</p:outputPanel>
										<p:outputPanel rendered="#{EditPersonTravelProposalActionBean.voyage}">
											<tr>
												<td>
													<h:outputText value="" />
												</td>
												<td>
													<p:message for="voyageNo" />
												</td>
											</tr>
											<tr>
												<td></td>
											</tr>
											<tr>
												<td style="width: 150px;" valign="top">
													<h:outputText styleClass="input-label" value="VOYAGE" rendered="#{EditPersonTravelProposalActionBean.voyage}" />
												</td>
												<td>
													<p:inputText id="voyageNo"  style="width:250px;" value="#{EditPersonTravelProposalActionBean.voyageNo}"
														rendered="#{EditPersonTravelProposalActionBean.voyage}" />
												</td>
											</tr>
											<tr height="12px" />
										</p:outputPanel>
										<p:outputPanel rendered="#{EditPersonTravelProposalActionBean.train}">
											<tr>
												<td>
													<h:outputText value="" />
												</td>
												<td>
													<p:message for="trainNo" />
												</td>
											</tr>
											<tr>
												<td></td>
											</tr>
											<tr>
												<td style="width: 150px;" valign="top">
													<h:outputText styleClass="input-label" value="Train No" rendered="#{EditPersonTravelProposalActionBean.train}" />
												</td>
												<td>
													<p:inputText id="trainNo"  style="width:250px;" value="#{EditPersonTravelProposalActionBean.trainNo}"
														rendered="#{EditPersonTravelProposalActionBean.train}" />
												</td>
											</tr>
											<tr height="12px" />
										</p:outputPanel>
										<p:outputPanel rendered="#{EditPersonTravelProposalActionBean.vehicle}">
											<tr>
												<td>
													<h:outputText value="" />
												</td>
												<td>
													<p:message for="regNo" />
												</td>
											</tr>
											<tr>
												<td style="width: 150px;" valign="top">
													<h:outputText styleClass="input-label" value="Registration No" rendered="#{EditPersonTravelProposalActionBean.vehicle}" />
												</td>
												<td>
													<p:inputText id="regNo"  style="width:250px;" value="#{EditPersonTravelProposalActionBean.registrationNo}"
														rendered="#{EditPersonTravelProposalActionBean.vehicle}" />
												</td>
											</tr>
											<tr>
												<td style="width: 150px;" valign="top">
													<h:panelGrid id="expressLabel">
														<h:outputText value="Express" rendered="#{EditPersonTravelProposalActionBean.vehicle}" />
													</h:panelGrid>
												</td>
												<td width="60%">
													<h:panelGrid columns="3" id="expressPanelGroup">
														<p:inputText id="express" readonly="true" style="width:250px;margin-left:-4px;"
															rendered="#{EditPersonTravelProposalActionBean.vehicle}"
															value="#{EditPersonTravelProposalActionBean.travelInfo.express == null ? '' : EditPersonTravelProposalActionBean.travelInfo.express.name}" />
														<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectExpress()}" id="selectExpressDialogLink" immediate="true"
															rendered="#{EditPersonTravelProposalActionBean.vehicle}">
															<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
															<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnExpress}" update="express" />
														</p:commandLink>
													</h:panelGrid>
												</td>
											</tr>
										<tr height="5px" />
										</p:outputPanel>
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="departureDate" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_STARTDATE_LABEL']}" />
											</td>
											<td>
												<p:calendar id="departureDate"  pattern="#{ApplicationSetting.dateFormat}" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
													value="#{EditPersonTravelProposalActionBean.travelInfo.departureDate}" />
											</td>
										</tr>
										<tr height="12px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="arrivalDate" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_ENDDATE_LABEL']}" />
											</td>
											<td>
												<p:calendar id="arrivalDate"  pattern="#{ApplicationSetting.dateFormat}" showOn="button" timeZone="#{ApplicationSetting.timeZone}"
													value="#{EditPersonTravelProposalActionBean.travelInfo.arrivalDate}" />
											</td>
										</tr>
									</table>
								</td>
								<td width="100px;"></td>
								<td valign="top">
									<table>
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="travelPath" />												
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_TRAVELPATH_LABEL']}" />
												
											</td>
											<td>											
												<p:inputTextarea id="travelPath" style="width:250px;" required="true"	value="#{EditPersonTravelProposalActionBean.travelInfo.travelPath}" />
											</td>
										</tr>
										<tr height="12px" />										
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="roundTrip" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_ROUNDTRIP_LABEL']}" />
											</td>
											<td>
												<p:selectBooleanCheckbox id="roundTrip" value="#{EditPersonTravelProposalActionBean.travelInfo.roundTrip}" />
											</td>
										</tr>
										<tr height="12px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="noOfUnit" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_NOOFUNIT_LABEL']}" />
											</td>
											<td>
												<p:inputText id="noOfUnit" style="width:250px;" value="#{EditPersonTravelProposalActionBean.travelInfo.totalUnit}" />
											</td>
										</tr>
										<tr height="12px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="noOfPassenger" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_NOOFPASSENGER_LABEL']}" />
											</td>
											<td>
												<p:inputText id="noOfPassenger" required="true" style="width:250px;" value="#{EditPersonTravelProposalActionBean.travelInfo.noOfPassenger}" />
											</td>
										</tr>
									</table>
								</td>
							</tr>
						</table>
						<p:separator style="height:2px" />
						<table style="width: 60%;">
							<!-- Start Proposal Attachment File Upload -->
							<tr>
								<td valign="top">
									<p:fieldset legend="Proposal Attachment">
										<table>
											<tr>
												<td valign="top">
													<p:fileUpload allowTypes="/(\.|\/)(gif|jpe?g|png)$/" fileUploadListener="#{EditPersonTravelProposalActionBean.handleProposalAttachment}" id="proposalAttachment"
														mode="advanced" multiple="true" sizeLimit="3000000" update="proposalImageGrid" />
												</td>
											</tr>
											<tr>
												<td align="center" valign="top">
													<p:dataGrid columns="8" id="proposalImageGrid" paginator="true"
														paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rows="16"
														value="#{EditPersonTravelProposalActionBean.proposalUploadedFileList}" var="image">
														<p:graphicImage style="width:120px;height:120px;" value="#{uploadRootPath}#{image}" />
														<br />
														<p:commandLink action="#{EditPersonTravelProposalActionBean.removeProposalUploadedFile(image)}" id="deleteGroupLink" update="proposalImageGrid" immediate="true">
															<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
														</p:commandLink>
													</p:dataGrid>
												</td>
											</tr>
										</table>
									</p:fieldset>
								</td>
							</tr>
						</table>
					</p:panel>
				</p:tab>
				<p:tab id="insuredPersonInfo" title="Insured Person Info">
					<p:panel header="Insured Preson Information" id="insuredPersonInfoWizardPanel" style="min-height:270px;">
						<table>
							<tr>
								<td valign="top">
									<table>
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="name" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_NAME_LABEL']}" />
											</td>
											<td>
												<p:inputText id="name" style="width:250px;" value="#{EditPersonTravelProposalActionBean.proposalTraveller.name}" />
											</td>
										</tr>
										<tr height="12px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="fatherName" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_FATHERNAME_LABEL']}" />
											</td>
											<td>
												<p:inputText id="fatherName" style="width:250px;" value="#{EditPersonTravelProposalActionBean.proposalTraveller.fatherName}" />
											</td>
										</tr>
										<tr height="12px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="travellerIdNo" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="NRC No." />
											</td>
											<td>
												<p:inputText id="travellerIdNo" style="width:250px;" value="#{EditPersonTravelProposalActionBean.proposalTraveller.nrcNo}">
													<f:validateLength maximum="30" />
												</p:inputText>
											</td>
										</tr>
										<tr height="12px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="address" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_ADDRESS_LABEL']}" />
											</td>
											<td>
												<p:inputTextarea id="address" style="width:250px;" value="#{EditPersonTravelProposalActionBean.proposalTraveller.address}" />
											</td>
										</tr>
									</table>
								</td>
								<td width="100px;"></td>
								<td valign="top">
									<table>
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="township" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_TOWNSHIP_LABEL']}" />
											</td>
											<td>
												<h:panelGrid columns="3" id="townshipPanelGroup">
													<p:inputText id="township" readonly="true" style="width:250px;margin-left:-4px;"
														value="#{EditPersonTravelProposalActionBean.proposalTraveller.township == null ? '' : EditPersonTravelProposalActionBean.proposalTraveller.township.name}" />
													<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectTownship()}" id="selectTownshipDialogLink" immediate="true">
														<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
														<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnTownship}" update="townshipPanelGroup" />
													</p:commandLink>
												</h:panelGrid>
											</td>
										</tr>
										<tr height="6px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="email" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_EMAIL_LABEL']}" />
											</td>
											<td>
												<p:inputText id="email" style="width:250px;" value="#{EditPersonTravelProposalActionBean.proposalTraveller.email}" />
											</td>
										</tr>
										<tr height="12px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="phoneNo" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_PHONENO_LABEL']}" />
											</td>
											<td>
												<p:inputText id="phoneNo" style="width:250px;" value="#{EditPersonTravelProposalActionBean.proposalTraveller.phone}" />
											</td>
										</tr>
										<tr height="12px" />
										<tr>
											<td>
												<h:outputText value="" />
											</td>
											<td>
												<p:message for="unit" />
											</td>
										</tr>
										<tr>
											<td style="width: 150px;" valign="top">
												<h:outputText style="color:red;" value="*" rendered="#{! EditPersonTravelProposalActionBean.isUnder100Travel}" />
												<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_NOOFUNIT_LABEL']}" />
											</td>
											<td>
												<p:inputText id="unit" style="width:250px;" value="#{EditPersonTravelProposalActionBean.proposalTraveller.unit}"
													disabled="#{EditPersonTravelProposalActionBean.isUnder100Travel}">
													<f:convertNumber pattern="#{ApplicationSetting.numberFormat}" />
												</p:inputText>
											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<td align="left" colspan="3" style="width: 100%;">
									<p:message for="beneficiariesInfoTablePanel" />
									<h:panelGroup id="beneficiariesInfoTablePanel" style="width: 100%">
										<fieldset style="width: 65%">
											<legend>
												<table>
													<tr>
														<td>
															<p:commandLink id="beneficiarieid" action="#{EditPersonTravelProposalActionBean.createNewBeneficiary}" immediate="true"
																oncomplete="PF('beneficiariesInfoEntryDialog').show()" update=":beneficiaryInfoEntryForm">
																<h:graphicImage styleClass="#{ApplicationSetting.addStyleClass}" value="#{ApplicationSetting.addIcon}" />
															</p:commandLink>
														</td>
														<td>
															<h:outputText styleClass="input-label" value="#{label['ADDNEWTRAVELPROPOSAL_BENEFICIARIES_LABEL']}" />
														</td>
													</tr>
												</table>
											</legend>
											<p:dataTable id="beneficiaryPersonTable" style="width:100%" value="#{EditPersonTravelProposalActionBean.beneficiaryList}" var="beneficiary">
												<p:column headerText="No." style="width:3%;">
													<h:outputText value="#{indexVar + 1}" />
												</p:column>
												<p:column headerText="Beneficiary Name">
													<h:outputText value="#{beneficiary.name}" />
												</p:column>
												<p:column headerText="Address">
													<h:outputText value="#{beneficiary.address}" />
												</p:column>
												<p:column headerText="NRC No.">
													<h:outputText value="#{beneficiary.nrcNo}" />
												</p:column>
												<p:column headerText="Percentage">
													<h:outputText value="#{beneficiary.percentage}%" />
												</p:column>
												<p:column headerText="Edit" style="width:50px; text-align: center;">
													<p:commandLink action="#{EditPersonTravelProposalActionBean.prepareEditBeneficiary(beneficiary)}" id="editBeneficiaryLink" immediate="true"
														oncomplete="PF('beneficiariesInfoEntryDialog').show()" update=":beneficiaryInfoEntryForm">
														<p:graphicImage styleClass="#{ApplicationSetting.editStyleClass}" value="#{ApplicationSetting.editIcon}" />
													</p:commandLink>
												</p:column>
												<p:column headerText="Delete" style="width:50px; text-align: center;">
													<p:commandLink action="#{EditPersonTravelProposalActionBean.removeBeneficiary(beneficiary.tempId)}" id="removeBeneficiaryLink"
														update=":personTravelProposalEditForm:beneficiariesInfoTablePanel beneficiaryPersonTable">
														<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
													</p:commandLink>
												</p:column>
											</p:dataTable>
										</fieldset>
									</h:panelGroup>
								</td>
							</tr>
						</table>
						<br />
						<p:commandButton style="width: 80px;" action="#{EditPersonTravelProposalActionBean.saveProposalTraveller}" id="addInsuredPersonInfoBtn"
							rendered="#{EditPersonTravelProposalActionBean.createNewInsuredPersonInfo}" update=":personTravelProposalEditForm:insuredPersonInfoWizardPanel"
							value="#{label['COMMON_ADDNEW_BTN']}" />
						<p:commandButton action="#{EditPersonTravelProposalActionBean.saveProposalTraveller}" id="editInsuredPersonInfoBtn"
							rendered="#{!EditPersonTravelProposalActionBean.createNewInsuredPersonInfo}" update=":personTravelProposalEditForm:insuredPersonInfoWizardPanel"
							value="#{label['COMMON_UPDATE_BTN']}" />
						<br />
						<p:separator style="height:3px" />
						<h:panelGrid columns="4">
							<h:commandLink action="#{EditPersonTravelProposalActionBean.prepareAddNewProposalTraveller}" immediate="true"
								update=":personTravelProposalEditForm:insuredPersonInfoWizardPanel">
								<f:ajax render=":personTravelProposalEditForm:insuredPersonInfoWizardPanel" />
								<h:panelGrid columns="2">
									<h:graphicImage styleClass="#{ApplicationSetting.addStyleClass}" value="#{ApplicationSetting.addIcon}" />
									<h:outputText styleClass="command-link" value="#{label['COMMON_ADDNEW_LINK']}" />
								</h:panelGrid>
							</h:commandLink>
							<p:message for="insuredPersonInfoTable" />
						</h:panelGrid>
						<p:dataTable id="insuredPersonInfoTable" style="width:100%" value="#{EditPersonTravelProposalActionBean.proposalTravellerList}" var="proposalTraveller">
							<p:column headerText="No." style="width:3%;">
								<h:outputText value="#{indexVar + 1}" />
							</p:column>
							<p:column headerText="Insured Person Name">
								<h:outputText value="#{proposalTraveller.name}" />
							</p:column>
							<p:column headerText="Address">
								<h:outputText value="#{proposalTraveller.address}" />
							</p:column>
							<p:column headerText="NRC No." style="text-align: center">
								<h:outputText value="#{proposalTraveller.nrcNo}" />
							</p:column>
							<p:column headerText="No of Units">
								<h:outputText style="float: right;" value="#{proposalTraveller.unit}" />
							</p:column>
							<p:column headerText="Edit" style="width:50px; text-align:center;">
								<h:commandLink action="#{EditPersonTravelProposalActionBean.prepareEditProposalTraveller(proposalTraveller)}" id="editInsuredPersonInfoLink">
									<f:ajax render=":personTravelProposalEditForm:insuredPersonInfoWizardPanel" />
									<p:graphicImage styleClass="#{ApplicationSetting.editStyleClass}" value="#{ApplicationSetting.editIcon}" />
								</h:commandLink>
							</p:column>
							<p:column headerText="Delete" style="width:50px; text-align:center;">
								<p:commandLink action="#{EditPersonTravelProposalActionBean.removeProposalTraveller(proposalTraveller.tempId)}" id="removeEditInsuredPersonInfoLink"
									update=":personTravelProposalEditForm:insuredPersonInfoWizardPanel" immediate="true" process="@this">
									<p:graphicImage styleClass="#{ApplicationSetting.deleteStyleClass}" value="#{ApplicationSetting.deleteIcon}" />
								</p:commandLink>
							</p:column>
						</p:dataTable>
					</p:panel>
				</p:tab>
				<p:tab id="workflow" title="Workflow">
					<p:panel header="Workflow" id="workflowWizardPanel" style="min-height:270px;">
						<table>
							<tr>
								<td />
								<td>
									<p:message for="remark" />
								</td>
							</tr>
							<tr>
								<td style="width: 150px;" valign="top">
									<h:outputText value="#{label['REMARK_LABLE']}" />
								</td>
								<td valign="top">
									<p:inputTextarea autoResize="true" id="remark" rows="10" style="width:400px;" value="#{EditPersonTravelProposalActionBean.remark}">
										<p:ajax update=":personTravelProposalEditForm:remark" />
									</p:inputTextarea>
								</td>
							</tr>
							<tr>
								<td />
								<td>
									<p:message for="responsiblePerson" id="MsgResponsiblePerson" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputText value="*" style="color:red;" />
									<h:outputText value="#{label['RESPONSIBLE_PERSON_LABLE']}" />
								</td>
								<td>
									<h:panelGrid columns="3" id="responsiblePersonPanel">
										<p:inputText id="responsiblePerson" readonly="#{EditPersonTravelProposalActionBean.responsiblePerson == null ? facesContext.currentPhaseId.ordinal eq 6 : true}"
											required="true" style="width:250px;margin-left:-4px;"
											value="#{EditPersonTravelProposalActionBean.responsiblePerson == null ? '' : EditPersonTravelProposalActionBean.responsiblePerson.name}" />
										<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectUser()}" id="selectUserDialogLink" immediate="true">
											<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
											<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnUser}" update="responsiblePersonPanel MsgResponsiblePerson" />
										</p:commandLink>
									</h:panelGrid>
								</td>
							</tr>
						</table>
						<br />
						<br />
						<p:commandButton action="#{EditPersonTravelProposalActionBean.updateProposal()}" update=":personTravelProposalEditForm" value="Update Proposal" />
					</p:panel>
				</p:tab>
			</p:wizard>
			<br />
			<p:commandButton action="dashboard" immediate="true" value="#{label['COMMON_CANCEL_BTN']}" />
			<br />
			<h:outputText style="color:red;" value="#{label['COMMON_MSG_MANDATORY_LABEL']}" />
			<br />
		</h:form>
		<h:form id="beneficiaryInfoEntryForm">
			<p:dialog header="#{label['MANAGE_INSUREDPERSON_BENEFICIARIESINFO_LABLE']}" hideEffect="explode" id="beneficiariesInfoEntryDialog" resizable="false" showEffect="explode"
				visible="#{facesContext.validationFailed}" widgetVar="beneficiariesInfoEntryDialog">
				<h:panelGroup id="beneficiariesInfoPanel">
					<table>
						<tr>
							<td>
								<table>
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 150px;">
											<p:message for="name" />
										</td>
									</tr>
									<tr>
										<td style="width: 150px;">
											<h:outputText style="color:red;" value="*" />
											<h:outputText styleClass="input-label" value="Name" />
										</td>
										<td>
											<p:inputText id="name" style="width:250px;" value="#{EditPersonTravelProposalActionBean.beneficiary.name}" required="true">
												<f:validateLength maximum="50" />
											</p:inputText>
										</td>
									</tr>
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 150px;">
											<p:message for="fatherName" />
										</td>
									</tr>
									<tr>
										<td style="width: 150px;">
											<h:outputText styleClass="input-label" value="Father Name" />
										</td>
										<td>
											<p:inputText id="fatherName" style="width:250px;" value="#{EditPersonTravelProposalActionBean.beneficiary.fatherName}">
												<f:validateLength maximum="50" />
											</p:inputText>
										</td>
									</tr>
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 150px;">
											<p:message for="bnfIdNo" />
										</td>
									</tr>
									<tr>
										<td style="width: 150px;">
											<h:outputText style="color:red;" value="*" />
											<h:outputText styleClass="input-label" value="Nrc No." />
										</td>
										<td>
											<p:inputText id="bnfIdNo" required="true" style="width:250px;" value="#{EditPersonTravelProposalActionBean.beneficiary.nrcNo}">
												<f:validateLength maximum="30" />
											</p:inputText>
										</td>
									</tr>
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 150px;">
											<p:message for="beneficiaryRelationShip" />
										</td>
									</tr>
									<tr>
										<td style="width: 150px;">
											<h:outputText styleClass="input-label" value="Relationship" />
										</td>
										<td>
											<p:selectOneMenu converter="omnifaces.SelectItemsConverter" id="beneficiaryRelationShip" style="height:24px;width: 258px;"
												value="#{EditPersonTravelProposalActionBean.beneficiary.relationship}">
												<f:selectItem itemLabel="Select" />
												<f:selectItems value="#{EditPersonTravelProposalActionBean.relationshipList}" var="relationship" itemLabel="#{relationship.name}" itemValue="#{relationship}" />
											</p:selectOneMenu>
										</td>
									</tr>
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 150px;">
											<p:message for="percentage" />
										</td>
									</tr>
									<tr>
										<td style="width: 150px;">
											<h:outputText style="color:red;" value="*" />
											<h:outputText styleClass="input-label" value="Percentage" />
										</td>
										<td>
											<p:inputText id="percentage" required="true" style="width:250px;" value="#{EditPersonTravelProposalActionBean.beneficiary.percentage}">
												<f:validateDoubleRange minimum="0.1" maximum="100" />
												<f:convertNumber pattern="#{ApplicationSetting.numberFormat}" />
											</p:inputText>
										</td>
									</tr>
								</table>
							</td>
							<td valign="top">
								<table>
									<tr height="18px" />
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 115px;">
											<p:message for="townShip" />
										</td>
									</tr>
									<tr>
										<td style="width: 115px;">
											<h:outputText styleClass="input-label" value="TownShip" />
										</td>
										<td>
											<h:panelGrid columns="3" id="townShipPanelGroup2">
												<p:inputText id="townShip" readonly="true" style="width:250px;margin-left:-4px;"
													value="#{EditPersonTravelProposalActionBean.beneficiary.township == null ? '' : EditPersonTravelProposalActionBean.beneficiary.township.name}">
													<f:validateLength maximum="36" />
												</p:inputText>
												<p:commandLink actionListener="#{EditPersonTravelProposalActionBean.selectTownship()}" id="selectTownShipDialogLink2" immediate="true">
													<h:graphicImage styleClass="#{ApplicationSetting.searchStyleClass}" url="#{ApplicationSetting.searchIcon}" />
													<p:ajax event="dialogReturn" listener="#{EditPersonTravelProposalActionBean.returnBeneficiariesTownShip}" update="townShipPanelGroup2" />
												</p:commandLink>
											</h:panelGrid>
										</td>
									</tr>
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 150px;">
											<p:message for="address" />
										</td>
									</tr>
									<tr>
										<td style="width: 150px;">
											<h:outputText styleClass="input-label" value="Address" />
										</td>
										<td>
											<p:inputTextarea id="address" style="width:250px;" value="#{EditPersonTravelProposalActionBean.beneficiary.address}">
												<f:validateLength maximum="300" />
											</p:inputTextarea>
										</td>
									</tr>
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 150px;">
											<p:message for="email" />
										</td>
									</tr>
									<tr>
										<td style="width: 150px;">
											<h:outputText styleClass="input-label" value="Email" />
										</td>
										<td>
											<p:inputText id="email" style="width:250px;" value="#{EditPersonTravelProposalActionBean.beneficiary.email}" />
										</td>
									</tr>
									<tr>
										<td>
											<h:outputText value="" />
										</td>
										<td style="width: 150px;">
											<p:message for="phone" />
										</td>
									</tr>
									<tr>
										<td style="width: 150px;">
											<h:outputText style="color:red;" value="*" />
											<h:outputText styleClass="input-label" value="Phone" />
										</td>
										<td>
											<p:inputText id="phone" style="width:250px;" value="#{EditPersonTravelProposalActionBean.beneficiary.phone}" required="true" />
										</td>
									</tr>
									<tr>
										<td colspan="2">
											<p:commandButton id="saveBtn" action="#{EditPersonTravelProposalActionBean.saveBeneficiary()}"
												update=":personTravelProposalEditForm:beneficiariesInfoTablePanel beneficiariesInfoPanel" value="Save" />
											<p:commandButton immediate="true" oncomplete="PF('beneficiariesInfoEntryDialog').hide()" value="Cancel" />
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</h:panelGroup>
			</p:dialog>
		</h:form>
	</ui:define>
</ui:composition>